2015-07-16T23:25:01.265629+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/spree_core-3.0.1/app/models/spree/order.rb:338:in `finalize!'
2015-07-16T23:25:01.265635+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/callback.rb:159:in `call'
2015-07-16T23:25:01.265632+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/callback.rb:191:in `each'
2015-07-16T23:25:01.265640+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:392:in `catch'
2015-07-16T23:25:01.265623+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/configured_job.rb:13:in `perform_later'
2015-07-16T23:25:01.265641+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:392:in `after'
2015-07-16T23:25:01.265638+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:394:in `each'
2015-07-16T23:25:01.265647+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:63:in `catch'
2015-07-16T23:25:01.265646+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:63:in `block (2 levels) in perform'
2015-07-16T23:25:01.265644+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:127:in `run_callbacks'
2015-07-16T23:25:01.265650+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:186:in `within_transaction'
2015-07-16T23:25:01.265652+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:62:in `perform'
2015-07-16T23:25:01.265649+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:63:in `block in perform'
2015-07-16T23:25:01.265639+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:394:in `block in after'
2015-07-16T23:25:01.265643+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:195:in `run_callbacks'
2015-07-16T23:25:01.265655+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/event.rb:155:in `fire'
2015-07-16T23:25:01.265653+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:163:in `perform'
2015-07-16T23:25:01.265656+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/event.rb:219:in `block in add_actions'
2015-07-16T23:25:01.265657+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/machine.rb:725:in `call'
2015-07-16T23:25:01.265661+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
2015-07-16T23:25:01.265663+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/base.rb:198:in `process_action'
2015-07-16T23:25:01.265659+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/machine.rb:725:in `block (2 levels) in define_helper'
2015-07-16T23:25:01.265668+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:25:01.265664+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/rendering.rb:10:in `process_action'
2015-07-16T23:25:01.265665+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
2015-07-16T23:25:01.265669+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:553:in `block (2 levels) in compile'
2015-07-16T23:25:01.265667+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:25:01.265660+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/controllers/spree/checkout_controller.rb:30:in `update'
2015-07-16T23:25:01.265671+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:25:01.265676+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:88:in `run_callbacks'
2015-07-16T23:25:01.265677+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
2015-07-16T23:25:01.265670+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:25:01.265683+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `instrument'
2015-07-16T23:25:01.265682+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
2015-07-16T23:25:01.265678+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/rescue.rb:29:in `process_action'
2015-07-16T23:25:01.265681+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `block in instrument'
2015-07-16T23:25:01.265685+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
2015-07-16T23:25:01.265680+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
2015-07-16T23:25:01.265686+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
2015-07-16T23:25:01.265687+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activerecord-4.2.3/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
2015-07-16T23:25:01.265688+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/base.rb:137:in `process'
2015-07-16T23:25:01.265690+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionview-4.2.3/lib/action_view/rendering.rb:30:in `process'
2015-07-16T23:25:01.265691+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal.rb:196:in `dispatch'
2015-07-16T23:25:01.265692+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
2015-07-16T23:25:01.265695+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:76:in `call'
2015-07-16T23:25:01.265693+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal.rb:237:in `block in action'
2015-07-16T23:25:01.265696+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:76:in `dispatch'
2015-07-16T23:25:01.265714+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
2015-07-16T23:25:01.265699+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `each'
2015-07-16T23:25:01.265701+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `serve'
2015-07-16T23:25:01.265704+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/railtie.rb:194:in `public_send'
2015-07-16T23:25:01.265698+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:43:in `block in serve'
2015-07-16T23:25:01.265707+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/mapper.rb:51:in `serve'
2015-07-16T23:25:01.265713+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
2015-07-16T23:25:01.265717+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/etag.rb:24:in `call'
2015-07-16T23:25:01.265697+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:45:in `serve'
2015-07-16T23:25:01.265702+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:821:in `call'
2015-07-16T23:25:01.265721+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
2015-07-16T23:25:01.265728+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/cookies.rb:560:in `call'
2015-07-16T23:25:01.265708+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:43:in `block in serve'
2015-07-16T23:25:01.265741+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/rack/logger.rb:38:in `call_app'
2015-07-16T23:25:01.265736+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
2015-07-16T23:25:01.265719+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
2015-07-16T23:25:01.265742+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/rack/logger.rb:20:in `block in call'
2015-07-16T23:25:01.265703+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/engine.rb:518:in `call'
2015-07-16T23:25:01.265731+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activerecord-4.2.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
2015-07-16T23:25:01.265709+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `each'
2015-07-16T23:25:01.265739+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
2015-07-16T23:25:01.265722+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/flash.rb:260:in `call'
2015-07-16T23:25:01.265747+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/rack/logger.rb:20:in `call'
2015-07-16T23:25:01.265712+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:821:in `call'
2015-07-16T23:25:01.265723+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:225:in `context'
2015-07-16T23:25:01.265746+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `tagged'
2015-07-16T23:25:01.265753+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
2015-07-16T23:25:01.265706+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/railtie.rb:194:in `method_missing'
2015-07-16T23:25:01.265724+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:220:in `call'
2015-07-16T23:25:01.265750+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
2015-07-16T23:25:01.265758+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/application.rb:165:in `call'
2015-07-16T23:25:01.265755+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/sendfile.rb:113:in `call'
2015-07-16T23:25:01.265732+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
2015-07-16T23:25:01.265735+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
2015-07-16T23:25:01.265715+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
2015-07-16T23:25:01.265751+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/runtime.rb:18:in `call'
2015-07-16T23:25:01.265762+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/handler/webrick.rb:88:in `service'
2015-07-16T23:25:01.265711+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `serve'
2015-07-16T23:25:01.265757+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/engine.rb:518:in `call'
2015-07-16T23:25:01.265729+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activerecord-4.2.3/lib/active_record/query_cache.rb:36:in `call'
2015-07-16T23:25:01.265763+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
2015-07-16T23:25:01.265738+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
2015-07-16T23:25:01.265745+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:26:in `tagged'
2015-07-16T23:25:01.265749+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/request_id.rb:21:in `call'
2015-07-16T23:25:01.265754+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/static.rb:116:in `call'
2015-07-16T23:25:01.265718+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/conditionalget.rb:38:in `call'
2015-07-16T23:25:01.265734+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:84:in `run_callbacks'
2015-07-16T23:25:01.265760+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'
2015-07-16T23:25:01.265765+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
2015-07-16T23:25:01.265767+00:00 app[web.1]: 
2015-07-16T23:25:01.265743+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `block in tagged'
2015-07-16T23:25:01.265759+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/lock.rb:17:in `call'
2015-07-16T23:25:01.265768+00:00 app[web.1]: 
2015-07-16T23:25:01.265766+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
2015-07-16T23:49:56.096207+00:00 app[web.1]: Started GET "/" for 99.118.33.200 at 2015-07-16 23:49:56 +0000
2015-07-16T23:49:56.203743+00:00 app[web.1]:   [1m[35mSpree::Preference Load (3.2ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:49:56.244431+00:00 app[web.1]:   [1m[35mSpree::Store Load (2.2ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:49:56.281621+00:00 app[web.1]:   [1m[35mSpree::Order Load (2.1ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:49:56.309629+00:00 app[web.1]:   [1m[35mSpree::Taxonomy Load (2.0ms)[0m  SELECT "spree_taxonomies".* FROM "spree_taxonomies"  ORDER BY spree_taxonomies.position, spree_taxonomies.created_at
2015-07-16T23:49:56.324174+00:00 app[web.1]:   [1m[36m (3.5ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".deleted_at IS NULL or "spree_products".deleted_at >= '2015-07-16 23:49:56.288410') AND ("spree_products".available_on <= '2015-07-16 23:49:56.291311') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = 'USD' LIMIT 12 OFFSET 0) subquery_for_count[0m  [["is_master", "t"]]
2015-07-16T23:49:56.340322+00:00 app[web.1]: Read fragment views/en/USD/spree/products/all--20150716232500-1/609f4b3e22365d3c1d716d62f1e59cf0 (0.1ms)
2015-07-16T23:49:56.156567+00:00 app[web.1]: Processing by Spree::HomeController#index as HTML
2015-07-16T23:49:56.231852+00:00 app[web.1]:   [1m[36mSpree::User Load (3.3ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:49:56.276252+00:00 app[web.1]:   [1m[36mSpree::Store Load (31.6ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:49:56.287028+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.7ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL  ORDER BY created_at DESC LIMIT 1[0m  [["user_id", 1]]
2015-07-16T23:49:56.309876+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_taxonomies.html.erb (3.5ms)
2015-07-16T23:49:56.339119+00:00 app[web.1]:   [1m[35m (3.7ms)[0m  SELECT  MAX("spree_products"."updated_at") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".deleted_at IS NULL or "spree_products".deleted_at >= '2015-07-16 23:49:56.288410') AND ("spree_products".available_on <= '2015-07-16 23:49:56.291311') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = 'USD' LIMIT 12 OFFSET 0  [["is_master", "t"]]
2015-07-16T23:49:56.377954+00:00 app[web.1]:   [1m[36m (5.9ms)[0m  [1mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".deleted_at IS NULL or "spree_products".deleted_at >= '2015-07-16 23:49:56.288410') AND ("spree_products".available_on <= '2015-07-16 23:49:56.291311') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = 'USD'[0m  [["is_master", "t"]]
2015-07-16T23:49:56.396373+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".deleted_at IS NULL or "spree_products".deleted_at >= '2015-07-16 23:49:56.288410') AND ("spree_products".available_on <= '2015-07-16 23:49:56.291311') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = 'USD' LIMIT 12 OFFSET 0) subquery_for_count[0m  [["is_master", true]]
2015-07-16T23:49:56.393999+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".deleted_at IS NULL or "spree_products".deleted_at >= '2015-07-16 23:49:56.288410') AND ("spree_products".available_on <= '2015-07-16 23:49:56.291311') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = 'USD' LIMIT 12 OFFSET 0) subquery_for_count  [["is_master", true]]
2015-07-16T23:49:56.408356+00:00 app[web.1]:   [1m[35mSpree::Product Load (3.6ms)[0m  SELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".deleted_at IS NULL or "spree_products".deleted_at >= '2015-07-16 23:49:56.288410') AND ("spree_products".available_on <= '2015-07-16 23:49:56.291311') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = 'USD' LIMIT 12 OFFSET 0  [["is_master", "t"]]
2015-07-16T23:49:56.447672+00:00 app[web.1]:   [1m[35mSpree::Price Load (5.3ms)[0m  SELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (1)
2015-07-16T23:49:56.453754+00:00 app[web.1]: Read fragment views/en/USD/spree/products/1-20150716232500979608000/221ae8c1002ea04afe53b8aa1c7bb651 (0.1ms)
2015-07-16T23:49:56.508624+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_products.html.erb (167.6ms)
2015-07-16T23:49:56.518769+00:00 app[web.1]:   [1m[35mSpree::Tracker Load (1.8ms)[0m  SELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1  ORDER BY "spree_trackers"."id" ASC LIMIT 1  [["active", "t"]]
2015-07-16T23:49:56.524235+00:00 app[web.1]:   [1m[36m (2.0ms)[0m  [1mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
2015-07-16T23:49:56.525390+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_search.html.erb (4.1ms)
2015-07-16T23:49:56.525492+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_nav_bar.html.erb (5.1ms)
2015-07-16T23:49:56.526336+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_main_nav_bar.html.erb (0.5ms)
2015-07-16T23:49:56.527178+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_sidebar.html.erb (0.2ms)
2015-07-16T23:49:56.529712+00:00 heroku[router]: at=info method=GET path="/" host=fathomless-hollows-4030.herokuapp.com request_id=8940ef99-ce74-40f7-9e1f-eae321dede57 fwd="99.118.33.200" dyno=web.1 connect=1ms service=748ms status=200 bytes=5866
2015-07-16T23:49:56.436909+00:00 app[web.1]:   [1m[36mSpree::Variant Load (1.9ms)[0m  [1mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (1)[0m  [["is_master", "t"]]
2015-07-16T23:49:56.451706+00:00 app[web.1]:   [1m[36mSpree::Image Load (2.1ms)[0m  [1mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = 'Spree::Variant' AND "spree_assets"."viewable_id" IN (1)  ORDER BY "spree_assets"."position" ASC[0m
2015-07-16T23:49:56.503754+00:00 app[web.1]: Write fragment views/en/USD/spree/products/1-20150716232500979608000/221ae8c1002ea04afe53b8aa1c7bb651 (40.0ms)
2015-07-16T23:49:56.509671+00:00 app[web.1]: Write fragment views/en/USD/spree/products/all--20150716232500-1/609f4b3e22365d3c1d716d62f1e59cf0 (0.9ms)
2015-07-16T23:49:56.509753+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/home/index.html.erb within spree/layouts/spree_application (216.1ms)
2015-07-16T23:49:56.515744+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_head.html.erb (5.5ms)
2015-07-16T23:49:56.519153+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_analytics.js.erb (3.2ms)
2015-07-16T23:49:56.524752+00:00 app[web.1]: Read fragment views/en/taxons/0/2d0c59b8b595f19be1a224c5d5aa8328 (0.2ms)
2015-07-16T23:49:56.526535+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_header.html.erb (7.1ms)
2015-07-16T23:49:56.527838+00:00 app[web.1]: Completed 200 OK in 371ms (Views: 203.1ms | ActiveRecord: 76.1ms)
2015-07-16T23:49:56.654531+00:00 heroku[router]: at=info method=GET path="/assets/spree/frontend/all-e70c003d770386e0f2030eab49eb59c274165cd14d16ffcb4f47a942198e8ee8.css" host=fathomless-hollows-4030.herokuapp.com request_id=a339bb42-f821-4f57-9df3-19a20561f0b5 fwd="99.118.33.200" dyno=web.1 connect=1ms service=6ms status=304 bytes=133
2015-07-16T23:49:56.811050+00:00 heroku[router]: at=info method=GET path="/assets/spree/frontend/all-54d0662903938e0432d8d8159dac8a48ea23c5855a0483ecb26d078ac2cfeab9.js" host=fathomless-hollows-4030.herokuapp.com request_id=4f0b13b9-5b6d-4c36-9e2c-2e5e6d59ec1f fwd="99.118.33.200" dyno=web.1 connect=3ms service=6ms status=304 bytes=133
2015-07-16T23:49:57.011611+00:00 heroku[router]: at=info method=GET path="/cart_link" host=fathomless-hollows-4030.herokuapp.com request_id=2b6a85cd-0a84-49dd-a314-c23d5b415ab4 fwd="99.118.33.200" dyno=web.1 connect=1ms service=75ms status=200 bytes=1153
2015-07-16T23:49:57.102628+00:00 heroku[router]: at=info method=GET path="/assets/spree_header-198b754a34f1428c25f64303be8ac2aae84a076433af18ca55b65d7cbf1a0e13.jpg" host=fathomless-hollows-4030.herokuapp.com request_id=727b0487-10ba-421c-b25d-4f11c5c6a889 fwd="99.118.33.200" dyno=web.1 connect=1ms service=11ms status=304 bytes=133
2015-07-16T23:49:56.955643+00:00 heroku[router]: at=info method=GET path="/assets/logo/spree_50-1c7335be355d4672a35c5023956d0c883f254831f3e3dae3f2ca05976ceb5e50.png" host=fathomless-hollows-4030.herokuapp.com request_id=55783a43-2fed-4b05-962b-413fa35ef3c6 fwd="99.118.33.200" dyno=web.1 connect=1ms service=11ms status=304 bytes=133
2015-07-16T23:49:56.954784+00:00 app[web.1]: Started GET "/cart_link" for 99.118.33.200 at 2015-07-16 23:49:56 +0000
2015-07-16T23:49:56.967831+00:00 app[web.1]:   [1m[35mSpree::Preference Load (5.4ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:49:56.979274+00:00 app[web.1]:   [1m[35mSpree::Store Load (2.7ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:49:56.995740+00:00 app[web.1]:   [1m[35mSpree::Order Load (4.4ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:49:57.005100+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_link_to_cart.html.erb (35.5ms)
2015-07-16T23:49:56.960913+00:00 app[web.1]: Processing by Spree::StoreController#cart_link as */*
2015-07-16T23:49:56.975859+00:00 app[web.1]:   [1m[36mSpree::Store Load (4.4ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:49:56.989332+00:00 app[web.1]:   [1m[36mSpree::User Load (8.3ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:49:57.003324+00:00 app[web.1]:   [1m[36mSpree::Order Load (6.1ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL  ORDER BY created_at DESC LIMIT 1[0m  [["user_id", 1]]
2015-07-16T23:49:57.009872+00:00 app[web.1]: Completed 200 OK in 49ms (Views: 14.1ms | ActiveRecord: 31.1ms)
2015-07-16T23:50:01.414331+00:00 app[web.1]: Started GET "/products/utterless-depravity-demo-deck" for 99.118.33.200 at 2015-07-16 23:50:01 +0000
2015-07-16T23:50:01.429281+00:00 app[web.1]:   [1m[36mSpree::User Load (1.2ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:01.434224+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.1ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:01.442791+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.4ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL  ORDER BY created_at DESC LIMIT 1[0m  [["user_id", 1]]
2015-07-16T23:50:01.454004+00:00 app[web.1]:   [1m[36mSpree::Product Load (1.4ms)[0m  [1mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1  ORDER BY "spree_products"."id" ASC LIMIT 1[0m  [["slug", "utterless-depravity-demo-deck"]]
2015-07-16T23:50:01.463537+00:00 app[web.1]:   [1m[35mSpree::Variant Load (1.7ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT 1  [["product_id", 1], ["is_master", "t"]]
2015-07-16T23:50:01.476000+00:00 app[web.1]:   [1m[35mSpree::Image Load (1.5ms)[0m  SELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."type" IN ('Spree::Image')  ORDER BY "spree_assets"."position" ASC LIMIT 1  [["viewable_id", 1], ["viewable_type", "Spree::Variant"]]
2015-07-16T23:50:01.486431+00:00 app[web.1]:   [1m[36mSpree::Image Load (1.6ms)[0m  [1mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."type" IN ('Spree::Image')  ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"]]
2015-07-16T23:50:01.489920+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/products/_thumbnails.html.erb (11.4ms)
2015-07-16T23:50:01.498316+00:00 app[web.1]:   [1m[36mSpree::Promotion Load (1.5ms)[0m  [1mSELECT "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."advertise" = $1 AND 1=0[0m  [["advertise", "t"]]
2015-07-16T23:50:01.511209+00:00 app[web.1]:   [1m[35mSpree::Variant Load (4.1ms)[0m  SELECT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND "spree_variants"."deleted_at" IS NULL AND "spree_prices"."currency" = 'USD' AND (spree_prices.amount IS NOT NULL)  ORDER BY "spree_variants".position ASC  [["product_id", 1], ["is_master", "f"]]
2015-07-16T23:50:01.518979+00:00 app[web.1]:   [1m[35mSpree::Price Load (1.6ms)[0m  SELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT 1  [["variant_id", 1], ["currency", "USD"]]
2015-07-16T23:50:01.549403+00:00 app[web.1]:   [1m[35mSpree::StockItem Load (3.4ms)[0m  SELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:01.555576+00:00 app[web.1]:   [1m[36mSpree::Taxon Load (1.7ms)[0m  [1mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
2015-07-16T23:50:01.555580+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/products/_taxons.html.erb (3.7ms)
2015-07-16T23:50:01.556410+00:00 app[web.1]: Write fragment views/en/USD/spree/products/1-20150716232500979608000/74670686e31a0c82cc2895829e5662f5 (1.3ms)
2015-07-16T23:50:01.558992+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_head.html.erb (1.6ms)
2015-07-16T23:50:01.579846+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_analytics.js.erb (10.5ms)
2015-07-16T23:50:01.591301+00:00 app[web.1]: Read fragment views/en/taxons/0/2d0c59b8b595f19be1a224c5d5aa8328 (0.2ms)
2015-07-16T23:50:01.420769+00:00 app[web.1]: Processing by Spree::ProductsController#show as HTML
2015-07-16T23:50:01.420818+00:00 app[web.1]:   Parameters: {"id"=>"utterless-depravity-demo-deck"}
2015-07-16T23:50:01.425826+00:00 app[web.1]:   [1m[35mSpree::Preference Load (3.7ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:01.432210+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.3ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:01.439072+00:00 app[web.1]:   [1m[35mSpree::Order Load (3.9ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:01.448314+00:00 app[web.1]:   [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:01.460297+00:00 app[web.1]: Read fragment views/en/USD/spree/products/1-20150716232500979608000/74670686e31a0c82cc2895829e5662f5 (0.1ms)
2015-07-16T23:50:01.472800+00:00 app[web.1]:   [1m[36mSpree::Image Exists (4.6ms)[0m  [1mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."type" IN ('Spree::Image') LIMIT 1[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"]]
2015-07-16T23:50:01.478329+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/products/_image.html.erb (17.7ms)
2015-07-16T23:50:01.489527+00:00 app[web.1]:   [1m[35mSpree::Image Load (1.5ms)[0m  SELECT "spree_assets".* FROM "spree_assets" INNER JOIN "spree_variants" ON "spree_assets"."viewable_id" = "spree_variants"."id" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_assets"."type" IN ('Spree::Image') AND "spree_variants"."product_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."type" IN ('Spree::Image')  ORDER BY "spree_variants".position ASC, "spree_assets"."position" ASC  [["product_id", 1], ["viewable_type", "Spree::Variant"]]
2015-07-16T23:50:01.492955+00:00 app[web.1]:   [1m[36m (1.4ms)[0m  [1mSELECT COUNT(*) FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1[0m  [["product_id", 1]]
2015-07-16T23:50:01.493067+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/products/_properties.html.erb (3.0ms)
2015-07-16T23:50:01.496045+00:00 app[web.1]:   [1m[35mSpree::PromotionRule Load (1.7ms)[0m  SELECT "spree_promotion_rules".* FROM "spree_promotion_rules" INNER JOIN "spree_products_promotion_rules" ON "spree_promotion_rules"."id" = "spree_products_promotion_rules"."promotion_rule_id" WHERE "spree_products_promotion_rules"."product_id" = $1  [["product_id", 1]]
2015-07-16T23:50:01.498545+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/products/_promotions.html.erb (5.3ms)
2015-07-16T23:50:01.516091+00:00 app[web.1]:   [1m[36mSpree::Price Load (1.9ms)[0m  [1mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 1]]
2015-07-16T23:50:01.545340+00:00 app[web.1]:   [1m[36m (6.6ms)[0m  [1mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:01.550794+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/products/_cart_form.html.erb (51.5ms)
2015-07-16T23:50:01.556672+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/products/show.html.erb within spree/layouts/spree_application (97.3ms)
2015-07-16T23:50:01.579486+00:00 app[web.1]:   [1m[35mSpree::Tracker Load (9.1ms)[0m  SELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1  ORDER BY "spree_trackers"."id" ASC LIMIT 1  [["active", "t"]]
2015-07-16T23:50:01.590710+00:00 app[web.1]:   [1m[36m (1.7ms)[0m  [1mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
2015-07-16T23:50:01.591870+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_search.html.erb (3.8ms)
2015-07-16T23:50:01.591973+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_nav_bar.html.erb (4.8ms)
2015-07-16T23:50:01.592814+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_main_nav_bar.html.erb (0.5ms)
2015-07-16T23:50:01.592934+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_header.html.erb (12.8ms)
2015-07-16T23:50:01.593576+00:00 app[web.1]: Completed 200 OK in 173ms (Views: 89.5ms | ActiveRecord: 61.2ms)
2015-07-16T23:50:01.596851+00:00 heroku[router]: at=info method=GET path="/products/utterless-depravity-demo-deck" host=fathomless-hollows-4030.herokuapp.com request_id=b9971416-9174-45f6-b328-452f5168ca77 fwd="99.118.33.200" dyno=web.1 connect=11ms service=189ms status=200 bytes=7280
2015-07-16T23:50:01.840549+00:00 heroku[router]: at=info method=GET path="/cart_link" host=fathomless-hollows-4030.herokuapp.com request_id=e3f5ece9-56df-487a-a2ab-4e926e0fffc7 fwd="99.118.33.200" dyno=web.1 connect=2ms service=52ms status=304 bytes=989
2015-07-16T23:50:01.795768+00:00 app[web.1]: Started GET "/cart_link" for 99.118.33.200 at 2015-07-16 23:50:01 +0000
2015-07-16T23:50:01.803652+00:00 app[web.1]:   [1m[35mSpree::Preference Load (1.4ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:01.819265+00:00 app[web.1]:   [1m[35mSpree::Store Load (2.4ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:01.827714+00:00 app[web.1]:   [1m[35mSpree::Order Load (2.5ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:01.832678+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_link_to_cart.html.erb (26.0ms)
2015-07-16T23:50:01.800817+00:00 app[web.1]: Processing by Spree::StoreController#cart_link as */*
2015-07-16T23:50:01.814618+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.8ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:50:01.822521+00:00 app[web.1]:   [1m[36mSpree::User Load (1.3ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:01.830660+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.3ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL  ORDER BY created_at DESC LIMIT 1[0m  [["user_id", 1]]
2015-07-16T23:50:01.833472+00:00 app[web.1]: Completed 304 Not Modified in 33ms (Views: 17.5ms | ActiveRecord: 10.7ms)
2015-07-16T23:50:03.398192+00:00 app[web.1]: Started POST "/orders/populate" for 99.118.33.200 at 2015-07-16 23:50:03 +0000
2015-07-16T23:50:03.421946+00:00 app[web.1]:   [1m[36mSpree::User Load (2.6ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:03.431511+00:00 app[web.1]:   [1m[36mSpree::Store Load (3.1ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:03.442371+00:00 app[web.1]:   [1m[36mSpree::Order Load (5.1ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL  ORDER BY created_at DESC LIMIT 1[0m  [["user_id", 1]]
2015-07-16T23:50:03.453552+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1[0m  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:03.471931+00:00 app[web.1]:   [1m[36m (7.3ms)[0m  [1mSELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2[0m  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:03.474524+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL  ORDER BY created_at DESC LIMIT 1[0m  [["user_id", 1]]
2015-07-16T23:50:03.487635+00:00 app[web.1]:   [1m[36m (3.3ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:03.494866+00:00 app[web.1]:   [1m[36mSpree::Order Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = 'R975417187' LIMIT 1[0m
2015-07-16T23:50:03.534472+00:00 app[web.1]:   [1m[36m (14.5ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:03.549458+00:00 app[web.1]:   [1m[36mSpree::LineItem Load (1.7ms)[0m  [1mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC[0m  [["order_id", 3]]
2015-07-16T23:50:03.597324+00:00 app[web.1]:   [1m[36m (20.2ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:03.620081+00:00 app[web.1]:   [1m[36mSpree::TaxCategory Load (1.8ms)[0m  [1mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1  ORDER BY "spree_tax_categories"."id" ASC LIMIT 1[0m  [["is_default", "t"]]
2015-07-16T23:50:03.404944+00:00 app[web.1]: Processing by Spree::OrdersController#populate as HTML
2015-07-16T23:50:03.404956+00:00 app[web.1]:   Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+3X7PFEiapEa81gWlaCDCKdQno9tW8b7D4nR110WbGTZDiHpok5ngBfL0+M7i8lrZVXWWf4QNL+Ui4g7QW1vsw==", "variant_id"=>"1", "quantity"=>"1", "button"=>""}
2015-07-16T23:50:03.411776+00:00 app[web.1]:   [1m[35mSpree::Preference Load (5.2ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:03.427648+00:00 app[web.1]:   [1m[35mSpree::Store Load (4.0ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:03.435706+00:00 app[web.1]:   [1m[35mSpree::Order Load (2.9ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:03.451970+00:00 app[web.1]:   [1m[35mSpree::Order Load (4.8ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" IS NULL LIMIT 1
2015-07-16T23:50:03.454246+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL  ORDER BY created_at DESC LIMIT 1  [["user_id", 1]]
2015-07-16T23:50:03.473715+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:03.483440+00:00 app[web.1]:   [1m[35mSpree::User Load (3.5ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:03.491738+00:00 app[web.1]:   [1m[35mSpree::Order Exists (3.0ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT 1  [["number", "R975417187"]]
2015-07-16T23:50:03.518736+00:00 app[web.1]:   [1m[35mSQL (16.5ms)[0m  INSERT INTO "spree_orders" ("currency", "guest_token", "store_id", "user_id", "state", "created_by_id", "number", "created_at", "updated_at", "email") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1], ["state", "cart"], ["created_by_id", 1], ["number", "R975417187"], ["created_at", "2015-07-16 23:50:03.500871"], ["updated_at", "2015-07-16 23:50:03.500871"], ["email", "manseauian@gmail.com"]]
2015-07-16T23:50:03.543637+00:00 app[web.1]:   [1m[35mSpree::Variant Load (7.5ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:03.575499+00:00 app[web.1]:   [1m[35mSpree::Price Load (13.1ms)[0m  SELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1  [["variant_id", 1]]
2015-07-16T23:50:03.616589+00:00 app[web.1]:   [1m[35mSpree::Product Load (17.6ms)[0m  SELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:03.645606+00:00 app[web.1]:   [1m[35m (7.8ms)[0m  SELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:03.651717+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (3.1ms)[0m  [1mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:03.660403+00:00 app[web.1]:   [1m[35mSQL (5.3ms)[0m  INSERT INTO "spree_line_items" ("quantity", "variant_id", "currency", "price", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["quantity", 1], ["variant_id", 1], ["currency", "USD"], ["price", "20.0"], ["order_id", 3], ["created_at", "2015-07-16 23:50:03.652987"], ["updated_at", "2015-07-16 23:50:03.652987"]]
2015-07-16T23:50:03.691655+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (14.6ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE 1=0 AND "spree_adjustments"."source_type" = $1  [["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:03.723751+00:00 app[web.1]:   [1m[35mSQL (1.9ms)[0m  UPDATE "spree_orders" SET "updated_at" = '2015-07-16 23:50:03.697327' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:03.743874+00:00 app[web.1]:   [1m[35mSpree::Zone Load (1.7ms)[0m  SELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1  ORDER BY "spree_zones"."id" ASC LIMIT 1  [["default_tax", "t"]]
2015-07-16T23:50:03.754597+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (2.2ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:03.763370+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (4.5ms)[0m  SELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3  ORDER BY amount ASC, created_at DESC, id DESC LIMIT 1  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"]]
2015-07-16T23:50:03.770555+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (2.7ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
2015-07-16T23:50:03.785923+00:00 app[web.1]:   [1m[35m (5.2ms)[0m  COMMIT
2015-07-16T23:50:03.796939+00:00 app[web.1]:   [1m[35mSpree::Payment Load (5.1ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2  ORDER BY spree_payments.created_at  [["order_id", 3], ["state", "completed"]]
2015-07-16T23:50:03.805926+00:00 app[web.1]:   [1m[35m (3.4ms)[0m  SELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.817127+00:00 app[web.1]:   [1m[35m (1.4ms)[0m  SELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.822966+00:00 app[web.1]:   [1m[35m (1.8ms)[0m  SELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:03.828396+00:00 app[web.1]:   [1m[35m (2.5ms)[0m  SELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.832913+00:00 app[web.1]:   [1m[35m (2.0ms)[0m  SELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.837820+00:00 app[web.1]:   [1m[35m (2.0ms)[0m  SELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.847542+00:00 app[web.1]:   [1m[35mSQL (2.3ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 20.0, "updated_at" = '2015-07-16 23:50:03.841531' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:03.866566+00:00 app[web.1]:   [1m[35mSpree::Shipment Exists (6.1ms)[0m  SELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT 1  [["order_id", 3]]
2015-07-16T23:50:03.875010+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.2ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:03.886034+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (6.8ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
2015-07-16T23:50:03.895682+00:00 app[web.1]:   [1m[35mSQL (2.7ms)[0m  UPDATE "spree_line_items" SET "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2015-07-16 23:50:03.890781' WHERE "spree_line_items"."id" = $1  [["id", 3]]
2015-07-16T23:50:03.902248+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.2ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2  ORDER BY spree_payments.created_at  [["order_id", 3], ["state", "completed"]]
2015-07-16T23:50:03.906778+00:00 app[web.1]:   [1m[35m (1.9ms)[0m  SELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.675819+00:00 app[web.1]:   [1m[36mSpree::Zone Load (14.2ms)[0m  [1mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1  ORDER BY "spree_zones"."id" ASC LIMIT 1[0m  [["default_tax", "t"]]
2015-07-16T23:50:03.696306+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (2.9ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:03.739857+00:00 app[web.1]:   [1m[36mSpree::Payment Load (13.5ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:03.749040+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE 1=0 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:03.757030+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.7ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:03.767163+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (2.5ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
2015-07-16T23:50:03.777198+00:00 app[web.1]:   [1m[36mSQL (1.4ms)[0m  [1mUPDATE "spree_line_items" SET "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2015-07-16 23:50:03.770709' WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
2015-07-16T23:50:03.790347+00:00 app[web.1]:   [1m[36m (3.6ms)[0m  [1mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.801084+00:00 app[web.1]:   [1m[36m (2.5ms)[0m  [1mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.811861+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (3.3ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order'))[0m
2015-07-16T23:50:03.819888+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.825012+00:00 app[web.1]:   [1m[36m (1.3ms)[0m  [1mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.830338+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.835221+00:00 app[web.1]:   [1m[36m (1.7ms)[0m  [1mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.840909+00:00 app[web.1]:   [1m[36m (1.3ms)[0m  [1mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
2015-07-16T23:50:03.856263+00:00 app[web.1]:   [1m[36mSpree::Order Load (2.7ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1[0m  [["id", 3]]
2015-07-16T23:50:03.872149+00:00 app[web.1]:   [1m[36mSpree::Promotion Load (3.7ms)[0m  [1mSELECT DISTINCT "spree_promotions".* FROM "spree_promotions" LEFT OUTER JOIN "spree_orders_promotions" ON "spree_promotions"."id" = "spree_orders_promotions"."promotion_id" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2015-07-16 23:50:03.867244') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2015-07-16 23:50:03.867577') AND ("spree_promotions"."code" IS NULL AND "spree_promotions"."path" IS NULL OR "spree_orders_promotions"."order_id" = 3)[0m
2015-07-16T23:50:03.878123+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.8ms)[0m  [1mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3  ORDER BY amount ASC, created_at DESC, id DESC LIMIT 1[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"]]
2015-07-16T23:50:03.890556+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (2.3ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
2015-07-16T23:50:03.898248+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.903543+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.909273+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.7ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order'))[0m
2015-07-16T23:50:03.920266+00:00 app[web.1]:   [1m[35m (2.1ms)[0m  SELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.971889+00:00 heroku[router]: at=info method=POST path="/orders/populate" host=fathomless-hollows-4030.herokuapp.com request_id=1071b5d2-e193-4c2f-bf2e-6b3757962b98 fwd="99.118.33.200" dyno=web.1 connect=1ms service=581ms status=302 bytes=1193
2015-07-16T23:50:03.925442+00:00 app[web.1]:   [1m[36m (1.3ms)[0m  [1mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.928481+00:00 app[web.1]:   [1m[35m (1.3ms)[0m  SELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:03.933907+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.939012+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  SELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.948403+00:00 app[web.1]:   [1m[35m (6.7ms)[0m  SELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:03.964582+00:00 app[web.1]:   [1m[35mSQL (2.7ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 20.0, "updated_at" = '2015-07-16 23:50:03.958341' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:03.968898+00:00 app[web.1]: Redirected to https://fathomless-hollows-4030.herokuapp.com/cart
2015-07-16T23:50:04.075597+00:00 app[web.1]: Started GET "/cart" for 99.118.33.200 at 2015-07-16 23:50:04 +0000
2015-07-16T23:50:04.089766+00:00 app[web.1]:   [1m[35mSpree::Preference Load (4.6ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:04.107745+00:00 app[web.1]:   [1m[35mSpree::Store Load (4.8ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:04.122359+00:00 app[web.1]:   [1m[35mSpree::Order Load (6.1ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:04.143047+00:00 app[web.1]:   [1m[35mSpree::Order Load (2.9ms)[0m  SELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)  [["user_id", 1]]
2015-07-16T23:50:04.151705+00:00 app[web.1]:   [1m[35m (3.1ms)[0m  SELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:04.167094+00:00 app[web.1]:   [1m[35mSpree::LineItem Exists (2.1ms)[0m  SELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT 1  [["order_id", 3]]
2015-07-16T23:50:04.173199+00:00 app[web.1]:   [1m[36mSpree::LineItem Load (3.5ms)[0m  [1mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC[0m  [["order_id", 3]]
2015-07-16T23:50:03.932954+00:00 app[web.1]:   [1m[36m (2.5ms)[0m  [1mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.936976+00:00 app[web.1]:   [1m[36m (2.2ms)[0m  [1mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.941012+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:03.955344+00:00 app[web.1]:   [1m[36m (5.8ms)[0m  [1mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
2015-07-16T23:50:03.967203+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.4ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1[0m  [["id", 3]]
2015-07-16T23:50:03.969082+00:00 app[web.1]: Completed 302 Found in 564ms (ActiveRecord: 326.8ms)
2015-07-16T23:50:04.080421+00:00 app[web.1]: Processing by Spree::OrdersController#edit as HTML
2015-07-16T23:50:04.101058+00:00 app[web.1]:   [1m[36mSpree::User Load (2.4ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:04.114993+00:00 app[web.1]:   [1m[36mSpree::Store Load (6.4ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:04.132396+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (7.6ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC[0m
2015-07-16T23:50:04.146236+00:00 app[web.1]:   [1m[36mSpree::Order Load (2.1ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" IS NULL LIMIT 1[0m
2015-07-16T23:50:04.156991+00:00 app[web.1]:   [1m[36mSpree::User Load (3.4ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:04.168656+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_error_messages.html.erb (0.2ms)
2015-07-16T23:50:04.180241+00:00 app[web.1]:   [1m[35mSpree::Variant Load (1.4ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:04.365257+00:00 heroku[router]: at=info method=GET path="/cart" host=fathomless-hollows-4030.herokuapp.com request_id=a37261e7-ff15-4048-87c3-9032cb098e00 fwd="99.118.33.200" dyno=web.1 connect=1ms service=303ms status=200 bytes=8255
2015-07-16T23:50:04.189733+00:00 app[web.1]:   [1m[36mSpree::Image Load (6.9ms)[0m  [1mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."type" IN ('Spree::Image')  ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"]]
2015-07-16T23:50:04.218000+00:00 app[web.1]:   [1m[36mSpree::OptionValue Load (3.9ms)[0m  [1mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_values_variants" ON "spree_option_values"."id" = "spree_option_values_variants"."option_value_id" WHERE "spree_option_values_variants"."variant_id" = $1[0m  [["variant_id", 1]]
2015-07-16T23:50:04.239761+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (4.8ms)[0m  [1mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:04.260027+00:00 app[web.1]:   [1m[35mSpree::Adjustment Exists (6.6ms)[0m  SELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT 1  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"]]
2015-07-16T23:50:04.267784+00:00 app[web.1]:   [1m[35mSpree::Adjustment Exists (2.4ms)[0m  SELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT 1  [["order_id", 3], ["adjustable_type", "Spree::Shipment"]]
2015-07-16T23:50:04.278011+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/orders/_form.html.erb (110.0ms)
2015-07-16T23:50:04.298744+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_head.html.erb (4.8ms)
2015-07-16T23:50:04.351509+00:00 app[web.1]: Read fragment views/en/taxons/0/2d0c59b8b595f19be1a224c5d5aa8328 (0.3ms)
2015-07-16T23:50:04.351513+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_search.html.erb (9.5ms)
2015-07-16T23:50:04.351515+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_nav_bar.html.erb (10.3ms)
2015-07-16T23:50:04.351517+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_main_nav_bar.html.erb (0.6ms)
2015-07-16T23:50:04.351518+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_header.html.erb (12.4ms)
2015-07-16T23:50:04.351519+00:00 app[web.1]: Completed 200 OK in 270ms (Views: 118.6ms | ActiveRecord: 117.3ms)
2015-07-16T23:50:04.204050+00:00 app[web.1]:   [1m[35mSpree::Product Load (3.4ms)[0m  SELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:04.234096+00:00 app[web.1]:   [1m[35m (2.3ms)[0m  SELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:04.242171+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/orders/_line_item.html.erb (66.1ms)
2015-07-16T23:50:04.263690+00:00 app[web.1]:   [1m[36mSpree::Adjustment Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT 1[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:04.277230+00:00 app[web.1]:   [1m[36mSpree::Shipment Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT 1[0m  [["order_id", 3]]
2015-07-16T23:50:04.293347+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application (134.4ms)
2015-07-16T23:50:04.339583+00:00 app[web.1]:   [1m[35mSpree::Tracker Load (30.2ms)[0m  SELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1  ORDER BY "spree_trackers"."id" ASC LIMIT 1  [["active", "t"]]
2015-07-16T23:50:04.339588+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_analytics.js.erb (38.1ms)
2015-07-16T23:50:04.343337+00:00 app[web.1]:   [1m[36m (2.8ms)[0m  [1mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
2015-07-16T23:50:04.588624+00:00 heroku[router]: at=info method=GET path="/cart_link" host=fathomless-hollows-4030.herokuapp.com request_id=908e4324-0c59-4867-b783-b92d5d533074 fwd="99.118.33.200" dyno=web.1 connect=1ms service=52ms status=200 bytes=1230
2015-07-16T23:50:04.544817+00:00 app[web.1]: Started GET "/cart_link" for 99.118.33.200 at 2015-07-16 23:50:04 +0000
2015-07-16T23:50:04.557782+00:00 app[web.1]:   [1m[35mSpree::Preference Load (1.2ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:04.571594+00:00 app[web.1]:   [1m[35mSpree::Store Load (3.1ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:04.579697+00:00 app[web.1]:   [1m[35mSpree::Order Load (2.8ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:04.582517+00:00 app[web.1]: Completed 200 OK in 32ms (Views: 7.6ms | ActiveRecord: 16.6ms)
2015-07-16T23:50:04.550407+00:00 app[web.1]: Processing by Spree::StoreController#cart_link as */*
2015-07-16T23:50:04.567709+00:00 app[web.1]:   [1m[36mSpree::Store Load (6.7ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:50:04.575698+00:00 app[web.1]:   [1m[36mSpree::User Load (2.8ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:04.581678+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_link_to_cart.html.erb (22.4ms)
2015-07-16T23:50:08.698666+00:00 app[web.1]: Started PATCH "/cart" for 99.118.33.200 at 2015-07-16 23:50:08 +0000
2015-07-16T23:50:08.706536+00:00 app[web.1]:   Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"YMNwa8J9wTSN34fDROUodRkuQx0UyvjrdBjAEmgaiBdCuKq+MRHMJYDnDDbqzmIW2ysLy4eBCq/vGpn+dGGLwA==", "order"=>{"line_items_attributes"=>{"0"=>{"quantity"=>"1", "id"=>"3"}}}, "checkout"=>""}
2015-07-16T23:50:08.719834+00:00 app[web.1]:   [1m[35mSpree::User Load (4.2ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1  [["id", 1]]
2015-07-16T23:50:08.737595+00:00 app[web.1]:   [1m[35mSpree::Store Load (4.9ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:08.751789+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (4.0ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC
2015-07-16T23:50:08.784032+00:00 app[web.1]:   [1m[35mSpree::Order Load (6.9ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" IS NULL LIMIT 1
2015-07-16T23:50:08.806254+00:00 app[web.1]:   [1m[35m (6.8ms)[0m  SELECT "spree_line_items"."id" FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC  [["order_id", 3]]
2015-07-16T23:50:08.815819+00:00 app[web.1]:   [1m[35mSpree::LineItem Load (3.3ms)[0m  SELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 AND "spree_line_items"."id" = 3  ORDER BY spree_line_items.created_at ASC  [["order_id", 3]]
2015-07-16T23:50:08.832331+00:00 app[web.1]:   [1m[35mSpree::Payment Load (6.4ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:08.848204+00:00 app[web.1]:   [1m[35mSQL (5.7ms)[0m  UPDATE "spree_orders" SET "last_ip_address" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3  [["last_ip_address", "99.118.33.200"], ["updated_at", "2015-07-16 23:50:08.834595"], ["id", 3]]
2015-07-16T23:50:08.863884+00:00 app[web.1]:   [1m[35mSpree::LineItem Load (2.1ms)[0m  SELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC  [["order_id", 3]]
2015-07-16T23:50:08.879772+00:00 app[web.1]:   [1m[35mSpree::Payment Load (2.9ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2  ORDER BY spree_payments.created_at  [["order_id", 3], ["state", "completed"]]
2015-07-16T23:50:08.899941+00:00 app[web.1]:   [1m[35m (10.1ms)[0m  SELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:08.911804+00:00 app[web.1]:   [1m[35m (2.8ms)[0m  SELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:08.927252+00:00 app[web.1]:   [1m[35m (3.7ms)[0m  SELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:08.939702+00:00 app[web.1]:   [1m[35m (2.7ms)[0m  SELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:08.706319+00:00 app[web.1]: Processing by Spree::OrdersController#update as HTML
2015-07-16T23:50:08.713228+00:00 app[web.1]:   [1m[36mSpree::Preference Load (5.0ms)[0m  [1mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1[0m  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:08.731487+00:00 app[web.1]:   [1m[36mSpree::Store Load (8.9ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:50:08.743760+00:00 app[web.1]:   [1m[36mSpree::Order Load (4.4ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1[0m  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:08.775864+00:00 app[web.1]:   [1m[36mSpree::Order Load (21.9ms)[0m  [1mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 1]]
2015-07-16T23:50:08.796705+00:00 app[web.1]:   [1m[36m (9.8ms)[0m  [1mSELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2[0m  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:08.808200+00:00 app[web.1]:   [1m[36m (1.6ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:08.823044+00:00 app[web.1]:   [1m[36mSpree::Order Exists (5.0ms)[0m  [1mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1[0m
2015-07-16T23:50:08.834080+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:08.860395+00:00 app[web.1]:   [1m[36m (10.9ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:08.870928+00:00 app[web.1]:   [1m[36m (3.9ms)[0m  [1mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:08.887896+00:00 app[web.1]:   [1m[36m (6.9ms)[0m  [1mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:08.907879+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (6.9ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order'))[0m
2015-07-16T23:50:08.921495+00:00 app[web.1]:   [1m[36m (8.8ms)[0m  [1mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:08.935387+00:00 app[web.1]:   [1m[36m (6.7ms)[0m  [1mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:08.949489+00:00 app[web.1]:   [1m[36m (2.6ms)[0m  [1mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:08.953708+00:00 app[web.1]:   [1m[35m (2.4ms)[0m  SELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:08.958821+00:00 app[web.1]:   [1m[36m (1.4ms)[0m  [1mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:08.969171+00:00 app[web.1]:   [1m[36m (1.7ms)[0m  [1mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
2015-07-16T23:50:08.989095+00:00 app[web.1]:   [1m[36mSpree::Order Load (8.5ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1[0m  [["id", 3]]
2015-07-16T23:50:09.020545+00:00 app[web.1]:   [1m[36mSpree::Shipment Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT 1[0m  [["order_id", 3]]
2015-07-16T23:50:09.045382+00:00 app[web.1]:   [1m[36mSpree::Payment Load (4.5ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2  ORDER BY spree_payments.created_at[0m  [["order_id", 3], ["state", "completed"]]
2015-07-16T23:50:09.059495+00:00 app[web.1]:   [1m[36m (8.7ms)[0m  [1mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:09.087863+00:00 app[web.1]:   [1m[36m (2.2ms)[0m  [1mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:09.117631+00:00 app[web.1]:   [1m[36m (21.9ms)[0m  [1mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:09.130630+00:00 app[web.1]:   [1m[36m (4.8ms)[0m  [1mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:09.145314+00:00 app[web.1]:   [1m[36m (4.4ms)[0m  [1mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:09.154597+00:00 app[web.1]:   [1m[36m (1.8ms)[0m  [1mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:09.198281+00:00 app[web.1]:   [1m[36mSQL (3.6ms)[0m  [1mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 20.0, "updated_at" = '2015-07-16 23:50:09.185521' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
2015-07-16T23:50:08.962972+00:00 app[web.1]:   [1m[35m (1.5ms)[0m  SELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:08.979439+00:00 app[web.1]:   [1m[35mSQL (3.4ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 20.0, "updated_at" = '2015-07-16 23:50:08.969584' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:09.011502+00:00 app[web.1]:   [1m[35mSpree::Promotion Load (12.0ms)[0m  SELECT DISTINCT "spree_promotions".* FROM "spree_promotions" LEFT OUTER JOIN "spree_orders_promotions" ON "spree_promotions"."id" = "spree_orders_promotions"."promotion_id" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2015-07-16 23:50:08.992144') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2015-07-16 23:50:08.992575') AND ("spree_promotions"."code" IS NULL AND "spree_promotions"."path" IS NULL OR "spree_orders_promotions"."order_id" = 3)
2015-07-16T23:50:09.034270+00:00 app[web.1]:   [1m[35m (1.6ms)[0m  SELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:09.049487+00:00 app[web.1]:   [1m[35m (3.0ms)[0m  SELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:09.069477+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (4.9ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order'))
2015-07-16T23:50:09.093932+00:00 app[web.1]:   [1m[35m (5.1ms)[0m  SELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:09.124501+00:00 app[web.1]:   [1m[35m (5.5ms)[0m  SELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:09.139844+00:00 app[web.1]:   [1m[35m (8.1ms)[0m  SELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:09.151803+00:00 app[web.1]:   [1m[35m (5.6ms)[0m  SELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:09.185122+00:00 app[web.1]:   [1m[35m (29.3ms)[0m  SELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
2015-07-16T23:50:09.200663+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.4ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1  [["id", 3]]
2015-07-16T23:50:09.214162+00:00 app[web.1]:   [1m[36mSpree::LineItem Load (7.0ms)[0m  [1mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC[0m  [["order_id", 3]]
2015-07-16T23:50:09.223669+00:00 app[web.1]:   [1m[36mSpree::Address Load (3.2ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 3]]
2015-07-16T23:50:09.239565+00:00 app[web.1]:   [1m[36mSpree::State Load (2.0ms)[0m  [1mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1[0m  [["id", 3571]]
2015-07-16T23:50:09.259690+00:00 app[web.1]:   [1m[36mSpree::Address Load (1.7ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 4]]
2015-07-16T23:50:09.264944+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1[0m  [["id", 3571]]
2015-07-16T23:50:09.287048+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.3ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.299334+00:00 app[web.1]:   [1m[36mSpree::Order Exists (3.1ms)[0m  [1mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1[0m
2015-07-16T23:50:09.302333+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1[0m  [["id", 3571]]
2015-07-16T23:50:09.305750+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:09.307048+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:09.313439+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.323699+00:00 app[web.1]:   [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["firstname", "Ian"], ["lastname", "Manseau"], ["address1", "22346 Savannah Lk"], ["address2", ""], ["city", "Von Ormy"], ["zipcode", "78073"], ["phone", "6036617102"], ["state_id", 3571], ["country_id", 232], ["created_at", "2015-07-16 23:50:09.320501"], ["updated_at", "2015-07-16 23:50:09.320501"]]
2015-07-16T23:50:09.331617+00:00 app[web.1]:   [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:09.342372+00:00 app[web.1]:   [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "spree_state_changes" ("previous_state", "next_state", "name", "user_id", "stateful_id", "stateful_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["previous_state", "cart"], ["next_state", "address"], ["name", "order"], ["user_id", 1], ["stateful_id", 3], ["stateful_type", "Spree::Order"], ["created_at", "2015-07-16 23:50:09.339748"], ["updated_at", "2015-07-16 23:50:09.339748"]]
2015-07-16T23:50:09.350430+00:00 app[web.1]:   [1m[36m (2.9ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:09.368422+00:00 app[web.1]:   [1m[36mSpree::Payment Load (6.1ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.380963+00:00 app[web.1]:   [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:09.383182+00:00 app[web.1]: Redirected to https://fathomless-hollows-4030.herokuapp.com/checkout/address
2015-07-16T23:50:09.219157+00:00 app[web.1]:   [1m[35mSpree::User Load (2.6ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:09.235846+00:00 app[web.1]:   [1m[35mSpree::Country Load (10.9ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:09.243113+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:09.263984+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:09.265501+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:09.291805+00:00 app[web.1]:   [1m[35m (2.9ms)[0m  BEGIN
2015-07-16T23:50:09.301379+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:09.302916+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:09.306481+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1  [["id", 3571]]
2015-07-16T23:50:09.312151+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:09.319742+00:00 app[web.1]:   [1m[35mSQL (4.4ms)[0m  INSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"  [["firstname", "Ian"], ["lastname", "Manseau"], ["address1", "22346 Savannah Lk"], ["address2", ""], ["city", "Von Ormy"], ["zipcode", "78073"], ["phone", "6036617102"], ["state_id", 3571], ["country_id", 232], ["created_at", "2015-07-16 23:50:09.314038"], ["updated_at", "2015-07-16 23:50:09.314038"]]
2015-07-16T23:50:09.327701+00:00 app[web.1]:   [1m[35mSQL (2.3ms)[0m  UPDATE "spree_orders" SET "state" = $1, "bill_address_id" = $2, "ship_address_id" = $3, "updated_at" = $4 WHERE "spree_orders"."id" = $5  [["state", "address"], ["bill_address_id", 7], ["ship_address_id", 8], ["updated_at", "2015-07-16 23:50:09.324325"], ["id", 3]]
2015-07-16T23:50:09.334718+00:00 app[web.1]:   [1m[35m (1.9ms)[0m  BEGIN
2015-07-16T23:50:09.347068+00:00 app[web.1]:   [1m[35m (4.3ms)[0m  COMMIT
2015-07-16T23:50:09.354453+00:00 app[web.1]:   [1m[35mSpree::Order Exists (3.0ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:09.369954+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:09.382555+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:09.383368+00:00 app[web.1]: Completed 302 Found in 677ms (ActiveRecord: 386.5ms)
2015-07-16T23:50:09.389668+00:00 heroku[router]: at=info method=POST path="/cart" host=fathomless-hollows-4030.herokuapp.com request_id=cd42c9a2-0ee0-457c-aecc-72121ee4f3a9 fwd="99.118.33.200" dyno=web.1 connect=3ms service=699ms status=302 bytes=1218
2015-07-16T23:50:09.488143+00:00 app[web.1]: Started GET "/checkout/address" for 99.118.33.200 at 2015-07-16 23:50:09 +0000
2015-07-16T23:50:09.495912+00:00 app[web.1]:   Parameters: {"state"=>"address"}
2015-07-16T23:50:09.503942+00:00 app[web.1]:   [1m[35mSpree::User Load (1.9ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1  [["id", 1]]
2015-07-16T23:50:09.516183+00:00 app[web.1]:   [1m[35mSpree::Store Load (2.3ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:09.527439+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (5.3ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC
2015-07-16T23:50:09.540220+00:00 app[web.1]:   [1m[35mSpree::Payment Load (3.2ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:09.545710+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:09.559748+00:00 app[web.1]:   [1m[35m (5.7ms)[0m  SELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:09.564019+00:00 app[web.1]:   [1m[35mSpree::Variant Load (1.3ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:09.570631+00:00 app[web.1]:   [1m[35mSpree::StockItem Load (2.4ms)[0m  SELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:09.580816+00:00 app[web.1]:   [1m[35mSpree::User Load (7.2ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:09.585451+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:09.611819+00:00 app[web.1]:   [1m[35m (20.2ms)[0m  SELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:09.631773+00:00 app[web.1]:   [1m[35mSpree::Product Load (5.6ms)[0m  SELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:09.634740+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.648681+00:00 app[web.1]:   [1m[36mSpree::Zone Load (1.4ms)[0m  [1mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" IS NULL LIMIT 1[0m
2015-07-16T23:50:09.495544+00:00 app[web.1]: Processing by Spree::CheckoutController#edit as HTML
2015-07-16T23:50:09.499980+00:00 app[web.1]:   [1m[36mSpree::Preference Load (2.1ms)[0m  [1mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1[0m  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:09.512648+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.6ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:50:09.520063+00:00 app[web.1]:   [1m[36mSpree::Order Load (2.6ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1[0m  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:09.534171+00:00 app[web.1]:   [1m[36mSpree::Order Load (4.6ms)[0m  [1mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 1]]
2015-07-16T23:50:09.544502+00:00 app[web.1]:   [1m[36mCACHE (0.1ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.552688+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.562777+00:00 app[web.1]:   [1m[36mSpree::LineItem Load (1.1ms)[0m  [1mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC[0m  [["order_id", 3]]
2015-07-16T23:50:09.567672+00:00 app[web.1]:   [1m[36m (1.6ms)[0m  [1mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:09.572288+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.583670+00:00 app[web.1]:   [1m[36mSpree::Address Load (1.2ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 7]]
2015-07-16T23:50:09.588893+00:00 app[web.1]:   [1m[36mSpree::Address Load (2.6ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 8]]
2015-07-16T23:50:09.623698+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:09.632587+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_add_items.js.erb (7.7ms)
2015-07-16T23:50:09.632655+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_checkout.js.erb (8.6ms)
2015-07-16T23:50:09.633337+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_error_messages.html.erb (0.4ms)
2015-07-16T23:50:09.645658+00:00 app[web.1]:   [1m[35mSpree::Preference Load (1.3ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/app_configuration/checkout_zone"]]
2015-07-16T23:50:09.655757+00:00 app[web.1]:   [1m[35mSpree::Country Load (6.5ms)[0m  SELECT "spree_countries".* FROM "spree_countries"
2015-07-16T23:50:09.872125+00:00 app[web.1]:   [1m[36mSpree::Country Load (5.5ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:09.878305+00:00 app[web.1]:   [1m[36mSpree::State Load (1.6ms)[0m  [1mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1  ORDER BY name ASC[0m  [["country_id", 232]]
2015-07-16T23:50:09.889071+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/app_configuration/checkout_zone"]]
2015-07-16T23:50:09.890887+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_countries".* FROM "spree_countries"
2015-07-16T23:50:09.967677+00:00 app[web.1]:   [1m[35mSpree::State Exists (1.8ms)[0m  SELECT  1 AS one FROM "spree_states" WHERE "spree_states"."country_id" = $1 LIMIT 1  [["country_id", 232]]
2015-07-16T23:50:09.986010+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/address/_form.html.erb (99.3ms)
2015-07-16T23:50:09.991731+00:00 app[web.1]:   [1m[35mSpree::Adjustment Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT 1  [["order_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:09.996770+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:09.998388+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:10.003053+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/_summary.html.erb (15.5ms)
2015-07-16T23:50:10.009840+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_head.html.erb (1.3ms)
2015-07-16T23:50:10.020056+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_analytics.js.erb (4.1ms)
2015-07-16T23:50:10.034158+00:00 app[web.1]: Read fragment views/en/taxons/0/2d0c59b8b595f19be1a224c5d5aa8328 (0.3ms)
2015-07-16T23:50:10.035243+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_nav_bar.html.erb (13.8ms)
2015-07-16T23:50:09.875674+00:00 app[web.1]:   [1m[35mSpree::State Exists (1.9ms)[0m  SELECT  1 AS one FROM "spree_states" WHERE "spree_states"."country_id" = $1 LIMIT 1  [["country_id", 232]]
2015-07-16T23:50:09.885052+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/address/_form.html.erb (247.4ms)
2015-07-16T23:50:09.890408+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" IS NULL LIMIT 1[0m
2015-07-16T23:50:09.964370+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:09.968521+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1  ORDER BY name ASC[0m  [["country_id", 232]]
2015-07-16T23:50:09.986765+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/_address.html.erb (349.8ms)
2015-07-16T23:50:09.995384+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.3ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order')) AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $1 AND "spree_adjustments"."eligible" = $2[0m  [["source_type", "Spree::TaxRate"], ["eligible", "t"]]
2015-07-16T23:50:09.997584+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:10.001236+00:00 app[web.1]:   [1m[36mSpree::Adjustment Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT 1[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:10.007680+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (393.8ms)
2015-07-16T23:50:10.019689+00:00 app[web.1]:   [1m[35mSpree::Tracker Load (2.6ms)[0m  SELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1  ORDER BY "spree_trackers"."id" ASC LIMIT 1  [["active", "t"]]
2015-07-16T23:50:10.031822+00:00 app[web.1]:   [1m[36m (8.6ms)[0m  [1mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
2015-07-16T23:50:10.034931+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_search.html.erb (12.8ms)
2015-07-16T23:50:10.040445+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_main_nav_bar.html.erb (0.7ms)
2015-07-16T23:50:10.040596+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_header.html.erb (20.2ms)
2015-07-16T23:50:10.041235+00:00 app[web.1]: Completed 200 OK in 545ms (Views: 387.2ms | ActiveRecord: 108.2ms)
2015-07-16T23:50:10.045686+00:00 heroku[router]: at=info method=GET path="/checkout/address" host=fathomless-hollows-4030.herokuapp.com request_id=544cf89f-9172-408d-8559-082d745dbe01 fwd="99.118.33.200" dyno=web.1 connect=2ms service=562ms status=200 bytes=40301
2015-07-16T23:50:10.286010+00:00 heroku[router]: at=info method=GET path="/cart_link" host=fathomless-hollows-4030.herokuapp.com request_id=8643f4b1-cdd5-43b4-984f-f66acfc3a8af fwd="99.118.33.200" dyno=web.1 connect=1ms service=48ms status=200 bytes=1230
2015-07-16T23:50:10.238231+00:00 app[web.1]: Started GET "/cart_link" for 99.118.33.200 at 2015-07-16 23:50:10 +0000
2015-07-16T23:50:10.248918+00:00 app[web.1]:   [1m[35mSpree::Preference Load (6.0ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:10.266022+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.6ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:10.272449+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.9ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:10.276997+00:00 app[web.1]: Completed 200 OK in 35ms (Views: 18.4ms | ActiveRecord: 13.1ms)
2015-07-16T23:50:10.379048+00:00 app[web.1]: Processing by Spree::Api::StatesController#index as JSON
2015-07-16T23:50:10.379056+00:00 app[web.1]:   Parameters: {"country_id"=>"232"}
2015-07-16T23:50:10.383770+00:00 app[web.1]:   [1m[36mSpree::User Load (2.8ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT 1[0m  [["spree_api_key", ""]]
2015-07-16T23:50:10.403856+00:00 app[web.1]:   [1m[36mSpree::State Load (11.5ms)[0m  [1mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1  ORDER BY name DESC LIMIT 1[0m  [["country_id", 232]]
2015-07-16T23:50:10.408298+00:00 app[web.1]: Completed 304 Not Modified in 29ms (ActiveRecord: 16.8ms)
2015-07-16T23:50:10.241452+00:00 app[web.1]: Processing by Spree::StoreController#cart_link as */*
2015-07-16T23:50:10.264476+00:00 app[web.1]:   [1m[36mSpree::Store Load (2.3ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:50:10.268967+00:00 app[web.1]:   [1m[36mSpree::User Load (1.4ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:10.274453+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_link_to_cart.html.erb (23.9ms)
2015-07-16T23:50:10.376469+00:00 app[web.1]: Started GET "/api/states?country_id=232" for 99.118.33.200 at 2015-07-16 23:50:10 +0000
2015-07-16T23:50:10.388888+00:00 app[web.1]:   [1m[35mSpree::Country Load (1.3ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:10.406779+00:00 app[web.1]:   [1m[35mSpree::Country Load (1.3ms)[0m  SELECT "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" IN (232)
2015-07-16T23:50:10.409482+00:00 heroku[router]: at=info method=GET path="/api/states?country_id=232" host=fathomless-hollows-4030.herokuapp.com request_id=e5950759-e251-4943-94d5-6bd1a2c22689 fwd="99.118.33.200" dyno=web.1 connect=1ms service=38ms status=304 bytes=989
2015-07-16T23:50:13.978838+00:00 app[web.1]: Started PATCH "/checkout/update/address" for 99.118.33.200 at 2015-07-16 23:50:13 +0000
2015-07-16T23:50:13.985694+00:00 app[web.1]:   Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GMKxJF4/OnGLOyBgSM77uIsH1OdhtoGE5Uw/Gr3nhrs6uWvxrVM3YIYDq5Xm5bHbSQKcMfL9c8B+Tmb2oZyFbA==", "order"=>{"email"=>"manseauian@gmail.com", "state_lock_version"=>"0", "bill_address_attributes"=>{"firstname"=>"Ian", "lastname"=>"Manseau", "address1"=>"22346 Savannah Lk", "address2"=>"", "city"=>"Von Ormy", "country_id"=>"232", "state_id"=>"3571", "zipcode"=>"78073", "phone"=>"6036617102", "id"=>"7"}, "use_billing"=>"1", "ship_address_attributes"=>{"id"=>"8"}}, "commit"=>"Save and Continue", "save_user_address"=>"1", "state"=>"address"}
2015-07-16T23:50:13.991995+00:00 app[web.1]:   [1m[35mSpree::User Load (1.3ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1  [["id", 1]]
2015-07-16T23:50:13.996445+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.2ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:14.001638+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.3ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC
2015-07-16T23:50:14.006137+00:00 app[web.1]:   [1m[35m (1.0ms)[0m  BEGIN
2015-07-16T23:50:14.011745+00:00 app[web.1]:   [1m[35mSQL (1.3ms)[0m  UPDATE "spree_orders" SET "state_lock_version" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3  [["state_lock_version", 1], ["updated_at", "2015-07-16 23:50:14.009283"], ["id", 3]]
2015-07-16T23:50:14.017804+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.1ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.019625+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.022695+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.026479+00:00 app[web.1]:   [1m[35mSpree::Variant Load (1.2ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:14.031448+00:00 app[web.1]:   [1m[35mSpree::StockItem Load (1.3ms)[0m  SELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:14.035302+00:00 app[web.1]:   [1m[35mSpree::User Load (1.2ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:14.038618+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.043445+00:00 app[web.1]:   [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:14.050672+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:14.055126+00:00 app[web.1]:   [1m[35mSpree::State Load (1.1ms)[0m  SELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1  [["id", 3571]]
2015-07-16T23:50:14.056574+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:14.057781+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1  [["id", 232]]
2015-07-16T23:50:14.060051+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.064917+00:00 app[web.1]:   [1m[35mSpree::Shipment Exists (1.1ms)[0m  SELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT 1  [["order_id", 3]]
2015-07-16T23:50:13.985535+00:00 app[web.1]: Processing by Spree::CheckoutController#update as HTML
2015-07-16T23:50:13.988460+00:00 app[web.1]:   [1m[36mSpree::Preference Load (1.2ms)[0m  [1mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1[0m  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:13.994714+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.3ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:50:13.998556+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.3ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1[0m  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:14.004523+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.4ms)[0m  [1mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 1]]
2015-07-16T23:50:14.008203+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.5ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
2015-07-16T23:50:14.014364+00:00 app[web.1]:   [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:14.018810+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.020402+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.024255+00:00 app[web.1]:   [1m[36mSpree::LineItem Load (1.1ms)[0m  [1mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC[0m  [["order_id", 3]]
2015-07-16T23:50:14.029614+00:00 app[web.1]:   [1m[36m (1.4ms)[0m  [1mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:14.032909+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.037428+00:00 app[web.1]:   [1m[36mSpree::Address Load (1.1ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 7]]
2015-07-16T23:50:14.040257+00:00 app[web.1]:   [1m[36mSpree::Address Load (1.2ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 8]]
2015-07-16T23:50:14.046893+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:14.052840+00:00 app[web.1]:   [1m[36mSpree::Country Load (1.1ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:14.055757+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:14.057250+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1[0m  [["id", 3571]]
2015-07-16T23:50:14.059155+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.062417+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:14.232841+00:00 app[web.1]:   [1m[36mSQL (165.7ms)[0m  [1mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_id" AS t1_r1, "spree_zone_members"."zoneable_type" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 232) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 3571))  ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
2015-07-16T23:50:14.236337+00:00 app[web.1]:   [1m[35m (1.4ms)[0m  SELECT "spree_zone_members"."zoneable_type" FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1 AND ("spree_zone_members"."zoneable_type" IS NOT NULL)  ORDER BY created_at ASC  [["zone_id", 2]]
2015-07-16T23:50:14.238098+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_zone_members"."zoneable_type" FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1 AND ("spree_zone_members"."zoneable_type" IS NOT NULL)  ORDER BY created_at ASC  [["zone_id", 2]]
2015-07-16T23:50:14.247749+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (2.5ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE 1=0 AND "spree_adjustments"."source_type" = $1  [["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:14.252010+00:00 app[web.1]:   [1m[35mSpree::Shipment Exists (1.2ms)[0m  SELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT 1  [["order_id", 3]]
2015-07-16T23:50:14.256098+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  BEGIN
2015-07-16T23:50:14.257876+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1  [["id", 3571]]
2015-07-16T23:50:14.260797+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  COMMIT
2015-07-16T23:50:14.267500+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  COMMIT
2015-07-16T23:50:14.273978+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  BEGIN
2015-07-16T23:50:14.275616+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1  [["id", 3571]]
2015-07-16T23:50:14.278404+00:00 app[web.1]:   [1m[35m (1.0ms)[0m  COMMIT
2015-07-16T23:50:14.283007+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  COMMIT
2015-07-16T23:50:14.287852+00:00 app[web.1]:   [1m[35mSpree::Shipment Load (1.4ms)[0m  SELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.295745+00:00 app[web.1]:   [1m[35mSpree::StockItem Exists (1.5ms)[0m  SELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 1 LIMIT 1  [["stock_location_id", 1]]
2015-07-16T23:50:14.299398+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 1  ORDER BY "spree_stock_items"."id" ASC LIMIT 1  [["stock_location_id", 1]]
2015-07-16T23:50:14.304029+00:00 app[web.1]:   [1m[35mSpree::ShippingCategory Load (1.3ms)[0m  SELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:14.310795+00:00 app[web.1]:   [1m[35mSpree::Calculator Load (1.4ms)[0m  SELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT 1  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"]]
2015-07-16T23:50:14.331522+00:00 app[web.1]:   [1m[35mSpree::ZoneMember Load (1.2ms)[0m  SELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1  [["zone_id", 2]]
2015-07-16T23:50:14.338822+00:00 app[web.1]:   [1m[35mSpree::Shipment Exists (1.2ms)[0m  SELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT 1  [["number", "H31242489033"]]
2015-07-16T23:50:14.345419+00:00 app[web.1]:   [1m[35mSQL (1.4ms)[0m  INSERT INTO "spree_shipments" ("stock_location_id", "state", "address_id", "order_id", "number", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["stock_location_id", 1], ["state", "pending"], ["address_id", 8], ["order_id", 3], ["number", "H31242489033"], ["created_at", "2015-07-16 23:50:14.342943"], ["updated_at", "2015-07-16 23:50:14.342943"]]
2015-07-16T23:50:14.353221+00:00 app[web.1]:   [1m[35mSQL (1.2ms)[0m  UPDATE "spree_shipments" SET "updated_at" = '2015-07-16 23:50:14.348823' WHERE "spree_shipments"."id" = $1  [["id", 4]]
2015-07-16T23:50:14.358161+00:00 app[web.1]:   [1m[35mSQL (1.5ms)[0m  INSERT INTO "spree_shipping_rates" ("cost", "shipping_method_id", "selected", "shipment_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["cost", "5.0"], ["shipping_method_id", 1], ["selected", "t"], ["shipment_id", 4], ["created_at", "2015-07-16 23:50:14.355755"], ["updated_at", "2015-07-16 23:50:14.355755"]]
2015-07-16T23:50:14.364048+00:00 app[web.1]:   [1m[35m (2.0ms)[0m  COMMIT
2015-07-16T23:50:14.237183+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_zone_members"."zoneable_type" FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1 AND ("spree_zone_members"."zoneable_type" IS NOT NULL)  ORDER BY created_at ASC[0m  [["zone_id", 2]]
2015-07-16T23:50:14.367960+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1  [["shipment_id", 4], ["selected", true]]
2015-07-16T23:50:14.243666+00:00 app[web.1]:   [1m[36mSpree::TaxRate Load (3.6ms)[0m  [1mSELECT DISTINCT spree_tax_rates.*, spree_zones.default_tax FROM "spree_tax_rates" INNER JOIN "spree_zones" ON "spree_zones"."id" = "spree_tax_rates"."zone_id" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 LEFT OUTER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" LEFT OUTER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 LEFT OUTER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE "spree_tax_rates"."deleted_at" IS NULL AND (zone_members_spree_countries_join.zone_id = 2 OR spree_zones.default_tax = 't')  ORDER BY spree_zones.default_tax DESC[0m  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
2015-07-16T23:50:14.249894+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:14.377983+00:00 app[web.1]:   [1m[35mSQL (2.2ms)[0m  UPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2015-07-16 23:50:14.370507' WHERE "spree_shipments"."id" = $1  [["id", 4]]
2015-07-16T23:50:14.253876+00:00 app[web.1]:   [1m[36mSpree::Address Load (1.2ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 3]]
2015-07-16T23:50:14.256826+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:14.387741+00:00 app[web.1]:   [1m[35mSQL (2.1ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 25.0, "updated_at" = '2015-07-16 23:50:14.383634' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:14.392307+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.4ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:14.398572+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.258483+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:14.263677+00:00 app[web.1]:   [1m[36m (2.7ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:14.271671+00:00 app[web.1]:   [1m[36mSpree::Address Load (3.4ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 4]]
2015-07-16T23:50:14.406796+00:00 app[web.1]:   [1m[35m (1.9ms)[0m  COMMIT
2015-07-16T23:50:14.414901+00:00 app[web.1]:   [1m[35mSQL (1.3ms)[0m  INSERT INTO "spree_state_changes" ("previous_state", "next_state", "name", "user_id", "stateful_id", "stateful_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["previous_state", "address"], ["next_state", "delivery"], ["name", "order"], ["user_id", 1], ["stateful_id", 3], ["stateful_type", "Spree::Order"], ["created_at", "2015-07-16 23:50:14.412531"], ["updated_at", "2015-07-16 23:50:14.412531"]]
2015-07-16T23:50:14.418538+00:00 app[web.1]:   [1m[35m (1.0ms)[0m  BEGIN
2015-07-16T23:50:14.274701+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:14.276273+00:00 app[web.1]:   [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:14.426165+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.4ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.432864+00:00 app[web.1]:   [1m[35m (3.5ms)[0m  COMMIT
2015-07-16T23:50:14.438104+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  SELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.442258+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.3ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order'))
2015-07-16T23:50:14.446016+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  SELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.279620+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:14.285930+00:00 app[web.1]:   [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."adjustable_type" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["adjustable_type", "Spree::Shipment"]]
2015-07-16T23:50:14.292239+00:00 app[web.1]:   [1m[36mSpree::StockLocation Load (1.7ms)[0m  [1mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."active" = $1[0m  [["active", "t"]]
2015-07-16T23:50:14.450257+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  SELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.298336+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (1.5ms)[0m  [1mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 1  ORDER BY "spree_stock_items"."id" ASC LIMIT 1[0m  [["stock_location_id", 1]]
2015-07-16T23:50:14.301571+00:00 app[web.1]:   [1m[36mSpree::Product Load (1.1ms)[0m  [1mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:14.453946+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.457390+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.461300+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  SELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
2015-07-16T23:50:14.308485+00:00 app[web.1]:   [1m[36mSpree::ShippingMethod Load (1.7ms)[0m  [1mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_methods"."id" = "spree_shipping_method_categories"."shipping_method_id" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_method_categories"."shipping_category_id" = $1[0m  [["shipping_category_id", 1]]
2015-07-16T23:50:14.466323+00:00 app[web.1]: Redirected to https://fathomless-hollows-4030.herokuapp.com/checkout/delivery
2015-07-16T23:50:14.329349+00:00 app[web.1]:   [1m[36mSpree::Zone Load (1.6ms)[0m  [1mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_methods_zones" ON "spree_zones"."id" = "spree_shipping_methods_zones"."zone_id" WHERE "spree_shipping_methods_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
2015-07-16T23:50:14.335818+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:14.340943+00:00 app[web.1]:   [1m[36mSpree::Shipment Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = 'H31242489033' LIMIT 1[0m
2015-07-16T23:50:14.348489+00:00 app[web.1]:   [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "spree_inventory_units" ("order_id", "variant_id", "line_item_id", "state", "shipment_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 3], ["variant_id", 1], ["line_item_id", 3], ["state", "backordered"], ["shipment_id", 4], ["created_at", "2015-07-16 23:50:14.346246"], ["updated_at", "2015-07-16 23:50:14.346246"]]
2015-07-16T23:50:14.355089+00:00 app[web.1]:   [1m[36mSQL (1.2ms)[0m  [1mUPDATE "spree_orders" SET "updated_at" = '2015-07-16 23:50:14.352061' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
2015-07-16T23:50:14.361511+00:00 app[web.1]:   [1m[36mSQL (1.1ms)[0m  [1mUPDATE "spree_orders" SET "updated_at" = '2015-07-16 23:50:14.358683' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
2015-07-16T23:50:14.367038+00:00 app[web.1]:   [1m[36mSpree::ShippingRate Load (1.3ms)[0m  [1mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1[0m  [["shipment_id", 4], ["selected", "t"]]
2015-07-16T23:50:14.467814+00:00 heroku[router]: at=info method=POST path="/checkout/update/address" host=fathomless-hollows-4030.herokuapp.com request_id=764ed581-301a-4948-a87d-7829702faaf4 fwd="99.118.33.200" dyno=web.1 connect=1ms service=495ms status=302 bytes=1220
2015-07-16T23:50:14.370275+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 4], 
["adjustable_type", "Spree::Shipment"], ["included", "f"]]
2015-07-16T23:50:14.383191+00:00 app[web.1]:   [1m[36m (3.5ms)[0m  [1mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:14.389376+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:14.397224+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.2ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.403685+00:00 app[web.1]:   [1m[36mSQL (3.2ms)[0m  [1mUPDATE "spree_orders" SET "shipment_total" = $1, "total" = $2, "state" = $3, "updated_at" = $4 WHERE "spree_orders"."id" = $5[0m  [["shipment_total", "5.0"], ["total", "25.0"], ["state", "delivery"], ["updated_at", "2015-07-16 23:50:14.399193"], ["id", 3]]
2015-07-16T23:50:14.408743+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:14.417297+00:00 app[web.1]:   [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:14.421277+00:00 app[web.1]:   [1m[36mSpree::Order Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1[0m
2015-07-16T23:50:14.427451+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.435691+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.3ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2  ORDER BY spree_payments.created_at[0m  [["order_id", 3], ["state", "completed"]]
2015-07-16T23:50:14.440378+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:14.444127+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:14.448321+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:14.452152+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:14.455676+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:14.459165+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:14.465619+00:00 app[web.1]:   [1m[36mSQL (2.2ms)[0m  [1mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 25.0, "updated_at" = '2015-07-16 23:50:14.461485' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
2015-07-16T23:50:14.466486+00:00 app[web.1]: Completed 302 Found in 481ms (ActiveRecord: 303.0ms)
2015-07-16T23:50:14.553495+00:00 app[web.1]: Started GET "/checkout/delivery" for 99.118.33.200 at 2015-07-16 23:50:14 +0000
2015-07-16T23:50:14.562846+00:00 app[web.1]:   [1m[36mSpree::User Load (1.3ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:14.567513+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.1ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:14.572805+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.4ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC[0m
2015-07-16T23:50:14.579102+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.1ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.580931+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.584039+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:14.587769+00:00 app[web.1]:   [1m[36mSpree::Variant Load (1.1ms)[0m  [1mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:14.592901+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (1.3ms)[0m  [1mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:14.596853+00:00 app[web.1]:   [1m[36mSpree::User Load (1.2ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:14.601979+00:00 app[web.1]:   [1m[36mSpree::StockLocation Load (1.3ms)[0m  [1mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:14.613046+00:00 app[web.1]:   [1m[36m (1.5ms)[0m  [1mSELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2[0m  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:14.620629+00:00 app[web.1]:   [1m[36mSpree::Product Load (1.2ms)[0m  [1mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:14.623497+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.630532+00:00 app[web.1]:   [1m[35mSpree::LineItem Load (1.3ms)[0m  SELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT 1  [["id", 3]]
2015-07-16T23:50:14.635627+00:00 app[web.1]:   [1m[35mSpree::Image Exists (1.1ms)[0m  SELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."type" IN ('Spree::Image') LIMIT 1  [["viewable_id", 1], ["viewable_type", "Spree::Variant"]]
2015-07-16T23:50:14.639149+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:14.647907+00:00 app[web.1]:   [1m[35mSpree::ShippingRate Load (1.5ms)[0m  SELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1  ORDER BY cost ASC  [["shipment_id", 4]]
2015-07-16T23:50:14.653166+00:00 app[web.1]:   [1m[35mSpree::ShippingMethod Load (1.3ms)[0m  SELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:14.657868+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.2ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1  [["id", 3]]
2015-07-16T23:50:14.665851+00:00 app[web.1]:   [1m[36mSpree::Adjustment Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT 1[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:14.669687+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.672118+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:14.675809+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/_summary.html.erb (14.8ms)
2015-07-16T23:50:14.677964+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_head.html.erb (1.4ms)
2015-07-16T23:50:14.680351+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_analytics.js.erb (2.2ms)
2015-07-16T23:50:14.685228+00:00 app[web.1]: Read fragment views/en/taxons/0/2d0c59b8b595f19be1a224c5d5aa8328 (0.2ms)
2015-07-16T23:50:14.556193+00:00 app[web.1]: Processing by Spree::CheckoutController#edit as HTML
2015-07-16T23:50:14.556216+00:00 app[web.1]:   Parameters: {"state"=>"delivery"}
2015-07-16T23:50:14.559670+00:00 app[web.1]:   [1m[35mSpree::Preference Load (1.2ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:14.565753+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.3ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:14.569602+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.2ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:14.575774+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.2ms)[0m  SELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)  [["user_id", 1]]
2015-07-16T23:50:14.580098+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.581707+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.585577+00:00 app[web.1]:   [1m[35mSpree::LineItem Load (1.1ms)[0m  SELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC  [["order_id", 3]]
2015-07-16T23:50:14.591076+00:00 app[web.1]:   [1m[35m (1.4ms)[0m  SELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:14.594326+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.599697+00:00 app[web.1]:   [1m[35mSpree::Shipment Load (1.2ms)[0m  SELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:14.607030+00:00 app[web.1]:   [1m[35mSQL (1.7ms)[0m  SELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."stock_items_count" AS t1_r15 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1  [["shipment_id", 4]]
2015-07-16T23:50:14.617137+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.621405+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_add_items.js.erb (3.3ms)
2015-07-16T23:50:14.621464+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_checkout.js.erb (3.9ms)
2015-07-16T23:50:14.622103+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_error_messages.html.erb (0.4ms)
2015-07-16T23:50:14.628216+00:00 app[web.1]:   [1m[36mSpree::InventoryUnit Load (1.4ms)[0m  [1mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 4]]
2015-07-16T23:50:14.631865+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:14.637685+00:00 app[web.1]:   [1m[36mSpree::Image Load (1.1ms)[0m  [1mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."type" IN ('Spree::Image')  ORDER BY "spree_assets"."position" ASC LIMIT 1[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"]]
2015-07-16T23:50:14.644557+00:00 app[web.1]:   [1m[36mSpree::Price Load (1.3ms)[0m  [1mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 1]]
2015-07-16T23:50:14.650265+00:00 app[web.1]:   [1m[36mSpree::ShippingRate Load (1.2ms)[0m  [1mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1[0m  [["shipment_id", 4], ["selected", "t"]]
2015-07-16T23:50:14.655735+00:00 app[web.1]:   [1m[36mSpree::Shipment Load (1.7ms)[0m  [1mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT 1[0m  [["id", 4]]
2015-07-16T23:50:14.660357+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/_delivery.html.erb (34.9ms)
2015-07-16T23:50:14.668016+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.2ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order')) AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $1 AND "spree_adjustments"."eligible" = $2  [["source_type", "Spree::TaxRate"], ["eligible", "t"]]
2015-07-16T23:50:14.670797+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:14.675091+00:00 app[web.1]:   [1m[35mSpree::Adjustment Exists (1.5ms)[0m  SELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT 1  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:14.675970+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (60.9ms)
2015-07-16T23:50:14.680191+00:00 app[web.1]:   [1m[36mSpree::Tracker Load (1.1ms)[0m  [1mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1  ORDER BY "spree_trackers"."id" ASC LIMIT 1[0m  [["active", "t"]]
2015-07-16T23:50:14.684598+00:00 app[web.1]:   [1m[35m (1.4ms)[0m  SELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL
2015-07-16T23:50:14.685770+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_search.html.erb (3.5ms)
2015-07-16T23:50:14.685828+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_nav_bar.html.erb (4.4ms)
2015-07-16T23:50:14.686661+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_main_nav_bar.html.erb (0.6ms)
2015-07-16T23:50:14.686722+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_header.html.erb (6.2ms)
2015-07-16T23:50:14.687315+00:00 app[web.1]: Completed 200 OK in 131ms (Views: 52.2ms | ActiveRecord: 43.9ms)
2015-07-16T23:50:14.692565+00:00 heroku[router]: at=info method=GET path="/checkout/delivery" host=fathomless-hollows-4030.herokuapp.com request_id=737c09b0-ecda-4ff3-b0e3-754cb563b2d6 fwd="99.118.33.200" dyno=web.1 connect=1ms service=142ms status=200 bytes=8801
2015-07-16T23:50:14.895581+00:00 app[web.1]: Started GET "/cart_link" for 99.118.33.200 at 2015-07-16 23:50:14 +0000
2015-07-16T23:50:14.901025+00:00 app[web.1]:   [1m[36mSpree::Preference Load (1.1ms)[0m  [1mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1[0m  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:14.907974+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.2ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:14.913621+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.3ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1[0m  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:14.917330+00:00 app[web.1]: Completed 200 OK in 19ms (Views: 8.3ms | ActiveRecord: 6.6ms)
2015-07-16T23:50:14.898319+00:00 app[web.1]: Processing by Spree::StoreController#cart_link as */*
2015-07-16T23:50:14.905957+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.6ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:14.910704+00:00 app[web.1]:   [1m[35mSpree::User Load (1.4ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1  [["id", 1]]
2015-07-16T23:50:14.915683+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_link_to_cart.html.erb (13.1ms)
2015-07-16T23:50:14.919289+00:00 heroku[router]: at=info method=GET path="/cart_link" host=fathomless-hollows-4030.herokuapp.com request_id=ca976ca4-5e4e-437b-b2db-ea86b1966369 fwd="99.118.33.200" dyno=web.1 connect=4ms service=28ms status=200 bytes=1230
2015-07-16T23:50:16.886780+00:00 app[web.1]: Started PATCH "/checkout/update/delivery" for 99.118.33.200 at 2015-07-16 23:50:16 +0000
2015-07-16T23:50:16.889870+00:00 app[web.1]:   Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yb/V0X80MSHEC43HmfKxS98mncg0p875N59oW/YyGezrxA8EjFg8MMkzBjI32fsoHSPVHqfsPL2snTG36kkaOw==", "order"=>{"state_lock_version"=>"1", "shipments_attributes"=>{"0"=>{"selected_shipping_rate_id"=>"4", "id"=>"4"}}}, "commit"=>"Save and Continue", "state"=>"delivery"}
2015-07-16T23:50:16.896696+00:00 app[web.1]:   [1m[36mSpree::User Load (1.6ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:16.905852+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.1ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:16.919111+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.5ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC[0m
2015-07-16T23:50:16.933169+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:16.939414+00:00 app[web.1]:   [1m[36mSQL (1.2ms)[0m  [1mUPDATE "spree_orders" SET "state_lock_version" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3[0m  [["state_lock_version", 2], ["updated_at", "2015-07-16 23:50:16.936949"], ["id", 3]]
2015-07-16T23:50:16.946340+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.2ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:16.949158+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:16.953721+00:00 app[web.1]:   [1m[36m (1.3ms)[0m  [1mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:16.958402+00:00 app[web.1]:   [1m[36mSpree::Variant Load (1.3ms)[0m  [1mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:16.975879+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (7.1ms)[0m  [1mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:16.998645+00:00 app[web.1]:   [1m[36mSpree::User Load (19.2ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:17.006091+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:17.013543+00:00 app[web.1]:   [1m[36mSQL (1.4ms)[0m  [1mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1  ORDER BY cost ASC)[0m  [["shipment_id", 4]]
2015-07-16T23:50:17.018861+00:00 app[web.1]:   [1m[36mSQL (1.2ms)[0m  [1mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2015-07-16 23:50:17.016612"], ["id", 4]]
2015-07-16T23:50:17.024184+00:00 app[web.1]:   [1m[36mSpree::StockLocation Load (1.1ms)[0m  [1mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:17.031263+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.1ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.035960+00:00 app[web.1]:   [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:17.041902+00:00 app[web.1]:   [1m[36mSpree::ShippingRate Load (1.2ms)[0m  [1mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1[0m  [["shipment_id", 4], ["selected", "t"]]
2015-07-16T23:50:17.044837+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
2015-07-16T23:50:17.050649+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.056959+00:00 app[web.1]:   [1m[36mSpree::ShippingRate Load (1.2ms)[0m  [1mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1[0m  [["shipment_id", 4], ["selected", "t"]]
2015-07-16T23:50:17.059603+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
2015-07-16T23:50:17.066622+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.073275+00:00 app[web.1]:   [1m[36mSpree::Address Load (1.2ms)[0m  [1mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT 1[0m  [["id", 8]]
2015-07-16T23:50:17.079987+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT "spree_zone_members"."zoneable_type" FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1 AND ("spree_zone_members"."zoneable_type" IS NOT NULL)  ORDER BY created_at ASC[0m  [["zone_id", 2]]
2015-07-16T23:50:17.087819+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE 1=0 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:17.091308+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_zone_members"."zoneable_type" FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1 AND ("spree_zone_members"."zoneable_type" IS NOT NULL)  ORDER BY created_at ASC[0m  [["zone_id", 2]]
2015-07-16T23:50:17.095557+00:00 app[web.1]:   [1m[36mSpree::ShippingRate Load (1.3ms)[0m  [1mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1[0m  [["shipment_id", 4], ["selected", "t"]]
2015-07-16T23:50:17.098367+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"], ["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:17.105641+00:00 app[web.1]:   [1m[36mSpree::CreditCard Load (3.0ms)[0m  [1mSELECT  "spree_credit_cards".* FROM "spree_credit_cards" WHERE "spree_credit_cards"."user_id" = $1 AND "spree_credit_cards"."default" = $2  ORDER BY "spree_credit_cards"."id" ASC LIMIT 1[0m  [["user_id", 1], ["default", "t"]]
2015-07-16T23:50:17.111617+00:00 app[web.1]:   [1m[36m (1.9ms)[0m  [1mSELECT "spree_promotion_actions"."promotion_id" FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."type" IN ('Spree::Promotion::Actions::FreeShipping') AND "spree_promotion_actions"."deleted_at" IS NULL[0m
2015-07-16T23:50:17.115389+00:00 app[web.1]:   [1m[36mSpree::Shipment Load (1.1ms)[0m  [1mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT 1[0m  [["id", 4]]
2015-07-16T23:50:17.120178+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3  ORDER BY amount ASC, created_at DESC, id DESC LIMIT 1[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"]]
2015-07-16T23:50:17.123885+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
2015-07-16T23:50:17.129795+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.135352+00:00 app[web.1]:   [1m[36m (1.0ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:16.889621+00:00 app[web.1]: Processing by Spree::CheckoutController#update as HTML
2015-07-16T23:50:16.892839+00:00 app[web.1]:   [1m[35mSpree::Preference Load (1.3ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:16.903753+00:00 app[web.1]:   [1m[35mSpree::Store Load (4.2ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:16.910123+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.3ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:16.931004+00:00 app[web.1]:   [1m[35mSpree::Order Load (7.2ms)[0m  SELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)  [["user_id", 1]]
2015-07-16T23:50:16.935488+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.2ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
2015-07-16T23:50:16.942568+00:00 app[web.1]:   [1m[35m (2.2ms)[0m  COMMIT
2015-07-16T23:50:16.947849+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:16.950328+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:16.955681+00:00 app[web.1]:   [1m[35mSpree::LineItem Load (1.2ms)[0m  SELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC  [["order_id", 3]]
2015-07-16T23:50:16.967831+00:00 app[web.1]:   [1m[35m (3.8ms)[0m  SELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:16.977883+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.002951+00:00 app[web.1]:   [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:17.009931+00:00 app[web.1]:   [1m[35mSpree::Shipment Load (1.3ms)[0m  SELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."id" = 4  [["order_id", 3]]
2015-07-16T23:50:17.015700+00:00 app[web.1]:   [1m[35mSpree::ShippingRate Load (1.5ms)[0m  SELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2  ORDER BY cost ASC LIMIT 1  [["shipment_id", 4], ["id", 4]]
2015-07-16T23:50:17.021638+00:00 app[web.1]:   [1m[35mSpree::Shipment Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_shipments" WHERE ("spree_shipments"."number" = 'H31242489033' AND "spree_shipments"."id" != 4) LIMIT 1
2015-07-16T23:50:17.028160+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:17.032596+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.038186+00:00 app[web.1]:   [1m[35mSpree::Shipment Load (1.2ms)[0m  SELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.042666+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1  [["shipment_id", 4], ["selected", true]]
2015-07-16T23:50:17.048905+00:00 app[web.1]:   [1m[35mSQL (2.2ms)[0m  UPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2015-07-16 23:50:17.044994' WHERE "spree_shipments"."id" = $1  [["id", 4]]
2015-07-16T23:50:17.054644+00:00 app[web.1]:   [1m[35mSQL (2.0ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 25.0, "updated_at" = '2015-07-16 23:50:17.050869' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:17.057695+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1  [["shipment_id", 4], ["selected", true]]
2015-07-16T23:50:17.064875+00:00 app[web.1]:   [1m[35mSQL (3.3
ms)[0m  UPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2015-07-16 23:50:17.059886' WHERE "spree_shipments"."id" = $1  [["id", 4]]
2015-07-16T23:50:17.070960+00:00 app[web.1]:   [1m[35mSQL (2.4ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 25.0, "updated_at" = '2015-07-16 23:50:17.066775' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:17.077158+00:00 app[web.1]:   [1m[35mSQL (2.0ms)[0m  SELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_id" AS t1_r1, "spree_zone_members"."zoneable_type" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 232) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 3571))  ORDER BY spree_zones.zone_members_count, spree_zones.created_at
2015-07-16T23:50:17.083513+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_zone_members"."zoneable_type" FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1 AND ("spree_zone_members"."zoneable_type" IS NOT NULL)  ORDER BY created_at ASC  [["zone_id", 2]]
2015-07-16T23:50:17.083516+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_zone_members"."zoneable_type" FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = $1 AND ("spree_zone_members"."zoneable_type" IS NOT NULL)  ORDER BY created_at ASC[0m  [["zone_id", 2]]
2015-07-16T23:50:17.084826+00:00 app[web.1]:   [1m[35mSpree::TaxRate Load (1.3ms)[0m  SELECT DISTINCT spree_tax_rates.*, spree_zones.default_tax FROM "spree_tax_rates" INNER JOIN "spree_zones" ON "spree_zones"."id" = "spree_tax_rates"."zone_id" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 LEFT OUTER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" LEFT OUTER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 LEFT OUTER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE "spree_tax_rates"."deleted_at" IS NULL AND (zone_members_spree_countries_join.zone_id = 2 OR spree_zones.default_tax = 't')  ORDER BY spree_zones.default_tax DESC  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
2015-07-16T23:50:17.090072+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.2ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:17.093109+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT DISTINCT spree_tax_rates.*, spree_zones.default_tax FROM "spree_tax_rates" INNER JOIN "spree_zones" ON "spree_zones"."id" = "spree_tax_rates"."zone_id" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 LEFT OUTER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" LEFT OUTER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 LEFT OUTER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE "spree_tax_rates"."deleted_at" IS NULL AND (zone_members_spree_countries_join.zone_id = 2 OR spree_zones.default_tax = 't')  ORDER BY spree_zones.default_tax DESC  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
2015-07-16T23:50:17.096634+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE 1=0 AND "spree_adjustments"."source_type" = $1  [["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:17.101446+00:00 app[web.1]:   [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2  [["order_id", 3], ["source_type", "Spree::CreditCard"]]
2015-07-16T23:50:17.108598+00:00 app[web.1]:   [1m[35m (1.5ms)[0m  SELECT "spree_promotions"."id" FROM "spree_promotions" INNER JOIN "spree_orders_promotions" ON "spree_promotions"."id" = "spree_orders_promotions"."promotion_id" WHERE "spree_orders_promotions"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.113377+00:00 app[web.1]:   [1m[35mSpree::Promotion Load (1.3ms)[0m  SELECT "spree_promotions".* FROM "spree_promotions" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2015-07-16 23:50:17.108638') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2015-07-16 23:50:17.108839') AND 1=0 AND "spree_promotions"."path" IS NULL
2015-07-16T23:50:17.118069+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.1ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"]]
2015-07-16T23:50:17.122147+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.1ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
2015-07-16T23:50:17.127894+00:00 app[web.1]:   [1m[35mSQL (2.1ms)[0m  UPDATE "spree_shipments" SET "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2015-07-16 23:50:17.124029' WHERE "spree_shipments"."id" = $1  [["id", 4]]
2015-07-16T23:50:17.133933+00:00 app[web.1]:   [1m[35mSQL (2.1ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 25.0, "updated_at" = '2015-07-16 23:50:17.130000' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:17.137757+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:17.204508+00:00 heroku[router]: at=info method=POST path="/checkout/update/delivery" host=fathomless-hollows-4030.herokuapp.com request_id=789ea087-4db5-4b11-acd2-d7b747d0d4a2 fwd="99.118.33.200" dyno=web.1 connect=1ms service=324ms status=302 bytes=1218
2015-07-16T23:50:17.140563+00:00 app[web.1]:   [1m[36mSpree::Country Load (1.1ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:17.143215+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT 1[0m  [["id", 232]]
2015-07-16T23:50:17.146945+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.152748+00:00 app[web.1]:   [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:17.157887+00:00 app[web.1]:   [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "spree_state_changes" ("previous_state", "next_state", "name", "user_id", "stateful_id", "stateful_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["previous_state", "delivery"], ["next_state", "payment"], ["name", "order"], ["user_id", 1], ["stateful_id", 3], ["stateful_type", "Spree::Order"], ["created_at", "2015-07-16 23:50:17.155780"], ["updated_at", "2015-07-16 23:50:17.155780"]]
2015-07-16T23:50:17.163074+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:17.168542+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.1ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.171781+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:17.175998+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.179769+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order'))[0m
2015-07-16T23:50:17.183133+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.187110+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.190579+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.193929+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:17.197619+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
2015-07-16T23:50:17.202796+00:00 app[web.1]: Redirected to https://fathomless-hollows-4030.herokuapp.com/checkout/payment
2015-07-16T23:50:17.293551+00:00 app[web.1]: Started GET "/checkout/payment" for 99.118.33.200 at 2015-07-16 23:50:17 +0000
2015-07-16T23:50:17.301908+00:00 app[web.1]:   [1m[35mSpree::User Load (1.3ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1  [["id", 1]]
2015-07-16T23:50:17.306411+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.1ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:17.311558+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.3ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC
2015-07-16T23:50:17.317397+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.1ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.319258+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.142523+00:00 app[web.1]:   [1m[35mSpree::State Load (1.1ms)[0m  SELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT 1  [["id", 3571]]
2015-07-16T23:50:17.322496+00:00 app[web.1]:   [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.326586+00:00 app[web.1]:   [1m[35mSpree::Variant Load (1.2ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:17.145962+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.1ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.332260+00:00 app[web.1]:   [1m[35mSpree::StockItem Load (1.6ms)[0m  SELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:17.336280+00:00 app[web.1]:   [1m[35mSpree::User Load (1.4ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:17.339982+00:00 app[web.1]:   [1m[35mSpree::Shipment Load (1.3ms)[0m  SELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.149870+00:00 app[web.1]:   [1m[35mSQL (1.4ms)[0m  UPDATE "spree_orders" SET "state" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3  [["state", "payment"], ["updated_at", "2015-07-16 23:50:17.147401"], ["id", 3]]
2015-07-16T23:50:17.154609+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  BEGIN
2015-07-16T23:50:17.346085+00:00 app[web.1]:   [1m[35mSQL (1.2ms)[0m  SELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."stock_items_count" AS t1_r15 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1  [["shipment_id", 4]]
2015-07-16T23:50:17.161786+00:00 app[web.1]:   [1m[35m (3.5ms)[0m  COMMIT
2015-07-16T23:50:17.353123+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.356755+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_add_items.js.erb (2.9ms)
2015-07-16T23:50:17.356823+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_checkout.js.erb (3.4ms)
2015-07-16T23:50:17.357294+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_error_messages.html.erb (0.2ms)
2015-07-16T23:50:17.364136+00:00 app[web.1]:   [1m[36mSpree::CreditCard Load (3.5ms)[0m  [1mSELECT "spree_credit_cards".* FROM "spree_credit_cards" WHERE "spree_credit_cards"."user_id" = $1 AND (gateway_customer_profile_id IS NOT NULL)[0m  [["user_id", 1]]
2015-07-16T23:50:17.165190+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.2ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:17.169543+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.369521+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL[0m
2015-07-16T23:50:17.372538+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/_payment.html.erb (12.5ms)
2015-07-16T23:50:17.379412+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.4ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order')) AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $1 AND "spree_adjustments"."eligible" = $2[0m  [["source_type", "Spree::TaxRate"], ["eligible", "t"]]
2015-07-16T23:50:17.173862+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.1ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2  ORDER BY spree_payments.created_at  [["order_id", 3], ["state", "completed"]]
2015-07-16T23:50:17.382007+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.386866+00:00 app[web.1]:   [1m[36mSpree::Adjustment Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT 1[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"]]
2015-07-16T23:50:17.178014+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.389793+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/_summary.html.erb (16.7ms)
2015-07-16T23:50:17.181491+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.185365+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:17.188832+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.192172+00:00 app[web.1]:   [1m[35m (1.0ms)[0m  SELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.195603+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:17.202156+00:00 app[web.1]:   [1m[35mSQL (2.3ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 25.0, "updated_at" = '2015-07-16 23:50:17.197806' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:17.202961+00:00 app[web.1]: Completed 302 Found in 313ms (ActiveRecord: 159.8ms)
2015-07-16T23:50:17.296077+00:00 app[web.1]: Processing by Spree::CheckoutController#edit as HTML
2015-07-16T23:50:17.296106+00:00 app[web.1]:   Parameters: {"state"=>"payment"}
2015-07-16T23:50:17.298623+00:00 app[web.1]:   [1m[36mSpree::Preference Load (1.1ms)[0m  [1mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1[0m  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:17.304762+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.3ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m
2015-07-16T23:50:17.308526+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.2ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1[0m  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:17.314264+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.2ms)[0m  [1mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 1]]
2015-07-16T23:50:17.318466+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.320087+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.324234+00:00 app[web.1]:   [1m[36mSpree::LineItem Load (1.3ms)[0m  [1mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC[0m  [["order_id", 3]]
2015-07-16T23:50:17.330206+00:00 app[web.1]:   [1m[36m (1.9ms)[0m  [1mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN 
"spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:17.333681+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.337682+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:17.342068+00:00 app[web.1]:   [1m[36mSpree::StockLocation Load (1.2ms)[0m  [1mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:17.350280+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2[0m  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:17.356105+00:00 app[web.1]:   [1m[36mSpree::Product Load (1.3ms)[0m  [1mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:17.358312+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.366982+00:00 app[web.1]:   [1m[35mSpree::PaymentMethod Load (1.7ms)[0m  SELECT "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL
2015-07-16T23:50:17.371555+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/payment/_check.html.erb (0.3ms)
2015-07-16T23:50:17.377148+00:00 app[web.1]:   [1m[35mSpree::Adjustment Exists (1.4ms)[0m  SELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT 1  [["order_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:17.381067+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.382917+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:17.389286+00:00 app[web.1]:   [1m[35mSpree::Adjustment Exists (1.2ms)[0m  SELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT 1  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:17.389935+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (38.2ms)
2015-07-16T23:50:17.391798+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_head.html.erb (1.3ms)
2015-07-16T23:50:17.406873+00:00 heroku[router]: at=info method=GET path="/checkout/payment" host=fathomless-hollows-4030.herokuapp.com request_id=accb1f72-2d40-41c1-938e-96d6246ac9db fwd="99.118.33.200" dyno=web.1 connect=1ms service=114ms status=200 bytes=7772
2015-07-16T23:50:17.393945+00:00 app[web.1]:   [1m[36mSpree::Tracker Load (1.1ms)[0m  [1mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1  ORDER BY "spree_trackers"."id" ASC LIMIT 1[0m  [["active", "t"]]
2015-07-16T23:50:17.398586+00:00 app[web.1]:   [1m[35m (1.3ms)[0m  SELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL
2015-07-16T23:50:17.399405+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_search.html.erb (3.0ms)
2015-07-16T23:50:17.399481+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_nav_bar.html.erb (3.9ms)
2015-07-16T23:50:17.400158+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_main_nav_bar.html.erb (0.5ms)
2015-07-16T23:50:17.400224+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_header.html.erb (5.9ms)
2015-07-16T23:50:17.400708+00:00 app[web.1]: Completed 200 OK in 105ms (Views: 35.2ms | ActiveRecord: 37.6ms)
2015-07-16T23:50:17.597955+00:00 app[web.1]: Processing by Spree::StoreController#cart_link as */*
2015-07-16T23:50:17.604831+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.4ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:17.609297+00:00 app[web.1]:   [1m[35mSpree::User Load (1.2ms)[0m  SELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1  [["id", 1]]
2015-07-16T23:50:17.613475+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_link_to_cart.html.erb (11.6ms)
2015-07-16T23:50:17.394180+00:00 app[web.1]:   Rendered vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/views/spree/shared/_google_analytics.js.erb (2.1ms)
2015-07-16T23:50:17.398991+00:00 app[web.1]: Read fragment views/en/taxons/0/2d0c59b8b595f19be1a224c5d5aa8328 (0.2ms)
2015-07-16T23:50:17.595472+00:00 app[web.1]: Started GET "/cart_link" for 99.118.33.200 at 2015-07-16 23:50:17 +0000
2015-07-16T23:50:17.600427+00:00 app[web.1]:   [1m[36mSpree::Preference Load (1.1ms)[0m  [1mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1[0m  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:17.606831+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.3ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:17.611589+00:00 app[web.1]:   [1m[36mSpree::Order Load (1.2ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1[0m  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:17.615105+00:00 app[web.1]: Completed 200 OK in 17ms (Views: 7.2ms | ActiveRecord: 6.2ms)
2015-07-16T23:50:17.626162+00:00 heroku[router]: at=info method=GET path="/cart_link" host=fathomless-hollows-4030.herokuapp.com request_id=504eb4b7-154d-408c-a67a-275bd78f902e fwd="99.118.33.200" dyno=web.1 connect=3ms service=29ms status=200 bytes=1230
2015-07-16T23:50:19.686026+00:00 app[web.1]: Started PATCH "/checkout/update/payment" for 99.118.33.200 at 2015-07-16 23:50:19 +0000
2015-07-16T23:50:19.694505+00:00 app[web.1]:   [1m[36mSpree::User Load (1.2ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1  ORDER BY "spree_users"."id" ASC LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.698979+00:00 app[web.1]:   [1m[36mSpree::Store Load (1.2ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", "t"]]
2015-07-16T23:50:19.704132+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.3ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Order' AND "spree_adjustments"."adjustable_id" IN (3)  ORDER BY spree_adjustments.created_at ASC[0m
2015-07-16T23:50:19.708333+00:00 app[web.1]:   [1m[36m (1.0ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:19.713262+00:00 app[web.1]:   [1m[36mSQL (1.2ms)[0m  [1mUPDATE "spree_orders" SET "state_lock_version" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3[0m  [["state_lock_version", 3], ["updated_at", "2015-07-16 23:50:19.711110"], ["id", 3]]
2015-07-16T23:50:19.719453+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.1ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:19.721264+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:19.724392+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:19.728365+00:00 app[web.1]:   [1m[36mSpree::Variant Load (1.3ms)[0m  [1mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.733365+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (1.3ms)[0m  [1mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:19.737268+00:00 app[web.1]:   [1m[36mSpree::User Load (1.3ms)[0m  [1mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.740999+00:00 app[web.1]:   [1m[36mSpree::Shipment Load (1.1ms)[0m  [1mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:19.746979+00:00 app[web.1]:   [1m[36mSQL (1.1ms)[0m  [1mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."stock_items_count" AS t1_r15 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 4]]
2015-07-16T23:50:19.754260+00:00 app[web.1]:   [1m[36m (1.2ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:19.760929+00:00 app[web.1]:   [1m[36mSpree::Payment Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT 1[0m  [["number", "PFI35UR8"]]
2015-07-16T23:50:19.764263+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:19.768459+00:00 app[web.1]:   [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "spree_payments" ("amount", "payment_method_id", "state", "order_id", "number", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["amount", "25.0"], ["payment_method_id", 1], ["state", "checkout"], ["order_id", 3], ["number", "PFI35UR8"], ["created_at", "2015-07-16 23:50:19.766194"], ["updated_at", "2015-07-16 23:50:19.766194"]]
2015-07-16T23:50:19.774688+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.2ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 AND (id != 3)  ORDER BY spree_payments.created_at[0m  [["order_id", 3], ["state", "checkout"]]
2015-07-16T23:50:19.780955+00:00 app[web.1]:   [1m[36mSpree::PaymentMethod Load (1.2ms)[0m  [1mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.788871+00:00 app[web.1]:   [1m[36mSpree::ShippingRate Load (1.2ms)[0m  [1mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1[0m  [["shipment_id", 4], ["selected", "t"]]
2015-07-16T23:50:19.791888+00:00 app[web.1]:   [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
2015-07-16T23:50:19.797792+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:19.804813+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.2ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:19.812079+00:00 app[web.1]:   [1m[36m (1.4ms)[0m  [1mSELECT COUNT(*) FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3]]
2015-07-16T23:50:19.819708+00:00 app[web.1]:   [1m[36m (1.9ms)[0m  [1mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'[0m
2015-07-16T23:50:19.823309+00:00 app[web.1]:   [1m[36m (1.0ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:19.828127+00:00 app[web.1]:   [1m[36mSpree::Payment Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "spree_payments" WHERE ("spree_payments"."number" = 'PFI35UR8' AND "spree_payments"."id" != 3) LIMIT 1[0m
2015-07-16T23:50:19.831119+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.834987+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.688658+00:00 app[web.1]: Processing by Spree::CheckoutController#update as HTML
2015-07-16T23:50:19.841136+00:00 app[web.1]:   [1m[36mSQL (1.3ms)[0m  [1mUPDATE "spree_payments" SET "created_at" = $1, "updated_at" = $2 WHERE "spree_payments"."id" = $3[0m  [["created_at", "2015-07-16 23:50:19.766194"], ["updated_at", "2015-07-16 23:50:19.766194"], ["id", 3]]
2015-07-16T23:50:19.847429+00:00 app[web.1]:   [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:19.688729+00:00 app[web.1]:   Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"B9Zxr7h9aaUFiSqH+9upPaKzMIG3+UEIl8NWSGXgVk8lrat6SxFktAixoXJV8ONeYLZ4VySys0wMwQ+keZtVmA==", "order"=>{"state_lock_version"=>"2", "payments_attributes"=>[{"payment_method_id"=>"1"}], "coupon_code"=>""}, "state"=>"payment"}
2015-07-16T23:50:19.691315+00:00 app[web.1]:   [1m[35mSpree::Preference Load (1.1ms)[0m  SELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT 1  [["key", "spree/frontend_configuration/locale"]]
2015-07-16T23:50:19.852412+00:00 app[web.1]:   [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "spree_state_changes" ("previous_state", "next_state", "name", "user_id", "stateful_id", "stateful_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["previous_state", "payment"], ["next_state", "complete"], ["name", "order"], ["user_id", 1], ["stateful_id", 3], ["stateful_type", "Spree::Order"], ["created_at", "2015-07-16 23:50:19.850194"], ["updated_at", "2015-07-16 23:50:19.850194"]]
2015-07-16T23:50:19.697244+00:00 app[web.1]:   [1m[35mSpree::Store Load (1.2ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%fathomless-hollows-4030.herokuapp.com%')  ORDER BY "spree_stores"."id" ASC LIMIT 1
2015-07-16T23:50:19.856029+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:19.861392+00:00 app[web.1]:   [1m[36mSpree::Payment Load (1.2ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:19.701119+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.2ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 AND "spree_orders"."user_id" = $4 LIMIT 1  [["currency", "USD"], ["guest_token", "Y2RCxoviRcvkp3jKqPOG7A"], ["store_id", 1], ["user_id", 1]]
2015-07-16T23:50:19.866942+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at[0m  [["order_id", 3]]
2015-07-16T23:50:19.706693+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.1ms)[0m  SELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)  [["user_id", 1]]
2015-07-16T23:50:19.710061+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.2ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
2015-07-16T23:50:19.871947+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:19.876255+00:00 app[web.1]:   [1m[36mSpree::CreditCard Load (1.3ms)[0m  [1mSELECT "spree_credit_cards".* FROM "spree_credit_cards" WHERE 1=0[0m
2015-07-16T23:50:19.880501+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3]]
2015-07-16T23:50:19.883415+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:19.716530+00:00 app[web.1]:   [1m[35m (2.6ms)[0m  COMMIT
2015-07-16T23:50:19.720469+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.885437+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:19.722119+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.891010+00:00 app[web.1]:   [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:19.896788+00:00 app[web.1]:   [1m[36mSQL (2.0ms)[0m  [1mUPDATE "spree_shipments" SET "state" = 'pending', "updated_at" = '2015-07-16 23:50:19.893143' WHERE "spree_shipments"."id" = $1[0m  [["id", 4]]
2015-07-16T23:50:19.902258+00:00 app[web.1]:   [1m[36mSpree::LineItem Load (1.2ms)[0m  [1mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT 1[0m  [["id", 3]]
2015-07-16T23:50:19.907271+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (1.2ms)[0m  [1mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 1  ORDER BY "spree_stock_items"."id" ASC LIMIT 1[0m  [["stock_location_id", 1]]
2015-07-16T23:50:19.912648+00:00 app[web.1]:   [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "spree_stock_movements" ("quantity", "originator_id", "originator_type", "stock_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["quantity", -1], ["originator_id", 4], ["originator_type", "Spree::Shipment"], ["stock_item_id", 1], ["created_at", "2015-07-16 23:50:19.910309"], ["updated_at", "2015-07-16 23:50:19.910309"]]
2015-07-16T23:50:19.916928+00:00 app[web.1]:   [1m[36mSpree::StockItem Load (1.3ms)[0m  [1mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 1]]
2015-07-16T23:50:19.921230+00:00 app[web.1]:   [1m[36mSpree::Variant Load (1.1ms)[0m  [1mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.926095+00:00 app[web.1]:   [1m[36mSQL (1.3ms)[0m  [1mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", -2], ["updated_at", "2015-07-16 23:50:19.923926"], ["id", 1]]
2015-07-16T23:50:19.932141+00:00 app[web.1]:   [1m[36mSpree::Product Load (1.2ms)[0m  [1mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.725930+00:00 app[web.1]:   [1m[35mSpree::LineItem Load (1.1ms)[0m  SELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC  [["order_id", 3]]
2015-07-16T23:50:19.731575+00:00 app[web.1]:   [1m[35m (1.4ms)[0m  SELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree
_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:19.734611+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.738712+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.742935+00:00 app[web.1]:   [1m[35mSpree::StockLocation Load (1.1ms)[0m  SELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:19.751350+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "spree_roles" INNER JOIN "spree_roles_users" ON "spree_roles"."id" = "spree_roles_users"."role_id" WHERE "spree_roles_users"."user_id" = $1 AND "spree_roles"."name" = $2  [["user_id", 1], ["name", "admin"]]
2015-07-16T23:50:19.758307+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:19.762717+00:00 app[web.1]:   [1m[35mSpree::Payment Exists (1.2ms)[0m  SELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = 'PFI35UR8' LIMIT 1
2015-07-16T23:50:19.765182+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.770348+00:00 app[web.1]:   [1m[35mSpree::Order Load (1.2ms)[0m  SELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1  [["id", 3]]
2015-07-16T23:50:19.778249+00:00 app[web.1]:   [1m[35mSQL (1.3ms)[0m  UPDATE "spree_orders" SET "updated_at" = '2015-07-16 23:50:19.775199' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:19.786054+00:00 app[web.1]:   [1m[35m (2.1ms)[0m  COMMIT
2015-07-16T23:50:19.789659+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1  [["shipment_id", 4], ["selected", true]]
2015-07-16T23:50:19.796001+00:00 app[web.1]:   [1m[35mSQL (2.2ms)[0m  UPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2015-07-16 23:50:19.792058' WHERE "spree_shipments"."id" = $1  [["id", 4]]
2015-07-16T23:50:19.802041+00:00 app[web.1]:   [1m[35mSQL (2.1ms)[0m  UPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 20.0, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 25.0, "updated_at" = '2015-07-16 23:50:19.798042' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:19.807683+00:00 app[web.1]:   [1m[35mSpree::PaymentMethod Load (1.2ms)[0m  SELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:19.814300+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.4ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.821729+00:00 app[web.1]:   [1m[35mSpree::StockItem Load (1.6ms)[0m  SELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 1 AND "spree_stock_locations"."active" = 't'
2015-07-16T23:50:19.825470+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:19.829613+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.833619+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.838549+00:00 app[web.1]:   [1m[35mSQL (1.3ms)[0m  UPDATE "spree_orders" SET "state" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3  [["state", "complete"], ["updated_at", "2015-07-16 23:50:19.836365"], ["id", 3]]
2015-07-16T23:50:19.844364+00:00 app[web.1]:   [1m[35mSQL (1.3ms)[0m  UPDATE "spree_orders" SET "updated_at" = '2015-07-16 23:50:19.841435' WHERE "spree_orders"."id" = $1  [["id", 3]]
2015-07-16T23:50:19.849257+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  BEGIN
2015-07-16T23:50:19.854771+00:00 app[web.1]:   [1m[35m (1.9ms)[0m  COMMIT
2015-07-16T23:50:19.858322+00:00 app[web.1]:   [1m[35mSpree::Order Exists (1.5ms)[0m  SELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1
2015-07-16T23:50:19.864298+00:00 app[web.1]:   [1m[35mSpree::PaymentMethod Load (1.1ms)[0m  SELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:19.868316+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:19.874517+00:00 app[web.1]:   [1m[35m (1.4ms)[0m  SELECT "spree_payments"."source_id" FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3], ["source_type", "Spree::CreditCard"]]
2015-07-16T23:50:19.878170+00:00 app[web.1]:   [1m[35mSpree::Adjustment Load (1.3ms)[0m  SELECT "spree_adjustments".* FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order'))
2015-07-16T23:50:19.882779+00:00 app[web.1]:   [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:19.883966+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1  [["order_id", 3]]
2015-07-16T23:50:19.888589+00:00 app[web.1]:   [1m[35mSQL (1.2ms)[0m  INSERT INTO "spree_state_changes" ("next_state", "name", "user_id", "stateful_id", "stateful_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["next_state", "balance_due"], ["name", "payment"], ["user_id", 1], ["stateful_id", 3], ["stateful_type", "Spree::Order"], ["created_at", "2015-07-16 23:50:19.886498"], ["updated_at", "2015-07-16 23:50:19.886498"]]
2015-07-16T23:50:19.892794+00:00 app[web.1]:   [1m[35mSpree::InventoryUnit Load (1.2ms)[0m  SELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1  [["shipment_id", 4]]
2015-07-16T23:50:19.900412+00:00 app[web.1]:   [1m[35mSQL (2.0ms)[0m  UPDATE "spree_inventory_units" SET "pending" = 'f', "updated_at" = '2015-07-16 23:50:19.896829' WHERE "spree_inventory_units"."id" = $1  [["id", 4]]
2015-07-16T23:50:19.904333+00:00 app[web.1]:   [1m[35mSpree::Variant Load (1.1ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:19.909104+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  BEGIN
2015-07-16T23:50:19.914524+00:00 app[web.1]:   [1m[35mSpree::Variant Load (1.2ms)[0m  SELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:19.919103+00:00 app[web.1]:   [1m[35mSpree::StockLocation Load (1.2ms)[0m  SELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:19.923694+00:00 app[web.1]:   [1m[35mSpree::StockItem Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_stock_items" WHERE ("spree_stock_items"."variant_id" = 1 AND "spree_stock_items"."id" != 1 AND "spree_stock_items"."stock_location_id" = 1 AND "spree_stock_items"."deleted_at" IS NULL) LIMIT 1
2015-07-16T23:50:19.930091+00:00 app[web.1]:   [1m[35mSQL (1.5ms)[0m  UPDATE "spree_variants" SET "updated_at" = '2015-07-16 23:50:19.926862' WHERE "spree_variants"."id" = $1  [["id", 1]]
2015-07-16T23:50:19.935908+00:00 app[web.1]:   [1m[35mSQL (1.4ms)[0m  UPDATE "spree_products" SET "updated_at" = '2015-07-16 23:50:19.932720' WHERE "spree_products"."id" = $1  [["id", 1]]
2015-07-16T23:50:19.938095+00:00 app[web.1]:   [1m[36mSpree::Taxon Load (1.2ms)[0m  [1mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
2015-07-16T23:50:19.940119+00:00 app[web.1]:   [1m[35mSQL (1.3ms)[0m  UPDATE "spree_taxons" SET "updated_at" = '2015-07-16 23:50:19.938484' WHERE 1=0
2015-07-16T23:50:19.945176+00:00 app[web.1]:   [1m[35m (1.9ms)[0m  COMMIT
2015-07-16T23:50:19.950154+00:00 app[web.1]:   [1m[35mSQL (1.2ms)[0m  INSERT INTO "spree_state_changes" ("next_state", "name", "user_id", "stateful_id", "stateful_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["next_state", "backorder"], ["name", "shipment"], ["user_id", 1], ["stateful_id", 3], ["stateful_type", "Spree::Order"], ["created_at", "2015-07-16 23:50:19.947956"], ["updated_at", "2015-07-16 23:50:19.947956"]]
2015-07-16T23:50:19.954195+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  BEGIN
2015-07-16T23:50:19.959689+00:00 app[web.1]:   [1m[35mSpree::Payment Load (1.2ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.965240+00:00 app[web.1]:   [1m[35mCACHE (0.0ms)[0m  SELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))  ORDER BY spree_payments.created_at  [["order_id", 3]]
2015-07-16T23:50:19.970564+00:00 app[web.1]:   [1m[35mSQL (1.5ms)[0m  UPDATE "spree_orders" SET "payment_state" = $1, "shipment_state" = $2, "updated_at" = $3 WHERE "spree_orders"."id" = $4  [["payment_state", "balance_due"], ["shipment_state", "backorder"], ["updated_at", "2015-07-16 23:50:19.968103"], ["id", 3]]
2015-07-16T23:50:19.975397+00:00 app[web.1]:   [1m[35m (1.1ms)[0m  BEGIN
2015-07-16T23:50:19.981509+00:00 app[web.1]:   [1m[35m (2.5ms)[0m  COMMIT
2015-07-16T23:50:19.983378+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "Spree::OrderMailer", "confirm_email", "deliver_now", 3
2015-07-16T23:50:19.942500+00:00 app[web.1]:   [1m[36mSQL (1.6ms)[0m  [1mUPDATE "spree_taxonomies" SET "updated_at" = '2015-07-16 23:50:19.940509' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0  ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
2015-07-16T23:50:19.946878+00:00 app[web.1]:   [1m[36m (1.1ms)[0m  [1mBEGIN[0m
2015-07-16T23:50:19.952958+00:00 app[web.1]:   [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:19.956428+00:00 app[web.1]:   [1m[36mSpree::Order Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."number" = 'R975417187' AND "spree_orders"."id" != 3) LIMIT 1[0m
2015-07-16T23:50:19.962572+00:00 app[web.1]:   [1m[36mSpree::PaymentMethod Load (1.1ms)[0m  [1mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:19.988153+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mSpree::Store Load (1.2ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", "t"]]
2015-07-16T23:50:19.993192+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mSpree::LineItem Load (1.2ms)[0m  SELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1  ORDER BY spree_line_items.created_at ASC  [["order_id", 3]]
2015-07-16T23:50:19.997628+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mSpree::Product Load (1.1ms)[0m  SELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT 1  [["id", 1]]
2015-07-16T23:50:20.005782+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mSpree::Adjustment Exists (1.4ms)[0m  SELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 LIMIT 1  [["order_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:20.011399+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mSpree::ShippingRate Load (1.1ms)[0m  SELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1  [["shipment_id", 4], ["selected", "t"]]
2015-07-16T23:50:19.966677+00:00 app[web.1]:   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:20.018433+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mSpree::Adjustment Exists (1.3ms)[0m  SELECT  1 AS one FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order')) AND "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 LIMIT 1  [["eligible", "t"], ["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:20.021914+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   Rendered vendor/bundle/ruby/2.1.0/gems/spree_core-3.0.1/app/views/spree/order_mailer/confirm_email.html.erb within layouts/spree/base_mailer (31.5ms)
2015-07-16T23:50:20.024169+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   Rendered vendor/bundle/ruby/2.1.0/gems/spree_core-3.0.1/app/views/spree/shared/_base_mailer_header.html.erb (1.6ms)
2015-07-16T23:50:19.974143+00:00 app[web.1]:   [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
2015-07-16T23:50:20.029295+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mSpree::Adjustment Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 LIMIT 1[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"]]
2015-07-16T23:50:20.031153+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:20.034498+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mCACHE (0.0ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3  ORDER BY spree_adjustments.created_at ASC[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", true]]
2015-07-16T23:50:20.038184+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573] 
2015-07-16T23:50:19.978926+00:00 app[web.1]:   [1m[36mSQL (1.4ms)[0m  [1mUPDATE "spree_orders" SET "updated_at" = '2015-07-16 23:50:19.975506', "completed_at" = '2015-07-16 23:50:19.975506' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
2015-07-16T23:50:20.038187+00:00 app[web.1]: Spree::OrderMailer#confirm_email: processed outbound mail in 54.4ms
2015-07-16T23:50:19.981841+00:00 app[web.1]: [ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 96de7564-adb4-44b4-8d41-366d1e3ad573) to Inline(mailers) with arguments: "Spree::OrderMailer", "confirm_email", "deliver_now", 3
2015-07-16T23:50:19.985575+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mSpree::Order Load (1.4ms)[0m  [1mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT 1[0m  [["id", 3]]
2015-07-16T23:50:19.989031+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1[0m  [["default", true]]
2015-07-16T23:50:19.995368+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mSpree::Variant Load (1.1ms)[0m  [1mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:20.000581+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mSpree::OptionValue Load (1.3ms)[0m  [1mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_values_variants" ON "spree_option_values"."id" = "spree_option_values_variants"."option_value_id" WHERE "spree_option_values_variants"."variant_id" = $1[0m  [["variant_id", 1]]
2015-07-16T23:50:20.008687+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mSpree::Shipment Load (1.2ms)[0m  [1mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
2015-07-16T23:50:20.013651+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mSpree::ShippingMethod Load (1.2ms)[0m  [1mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT 1[0m  [["id", 1]]
2015-07-16T23:50:20.021056+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[36mSpree::Adjustment Load (1.4ms)[0m  [1mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3  ORDER BY spree_adjustments.created_at ASC[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
2015-07-16T23:50:20.023853+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1  ORDER BY "spree_stores"."id" ASC LIMIT 1  [["default", true]]
2015-07-16T23:50:20.024575+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   Rendered vendor/bundle/ruby/2.1.0/gems/spree_core-3.0.1/app/views/spree/shared/_base_mailer_footer.html.erb (0.2ms)
2015-07-16T23:50:20.030238+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mCACHE (0.0ms)[0m  SELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2  ORDER BY cost ASC LIMIT 1  [["shipment_id", 4], ["selected", true]]
2015-07-16T23:50:20.033810+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   [1m[35mSpree::Adjustment Exists (1.2ms)[0m  SELECT  1 AS one FROM "spree_adjustments" WHERE (order_id = 3 OR (adjustable_id = 3 AND adjustable_type = 'Spree::Order')) AND "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 LIMIT 1  [["eligible", "t"], ["source_type", "Spree::TaxRate"]]
2015-07-16T23:50:20.035085+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573]   Rendered vendor/bundle/ruby/2.1.0/gems/spree_core-3.0.1/app/views/spree/order_mailer/confirm_email.text.erb (10.0ms)
2015-07-16T23:50:20.236267+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573] 
2015-07-16T23:50:20.236273+00:00 app[web.1]: Sent mail to manseauian@gmail.com (19.1ms)
2015-07-16T23:50:20.236503+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573] Date: Thu, 16 Jul 2015 23:50:20 +0000
2015-07-16T23:50:20.236505+00:00 app[web.1]: From: spree@example.com
2015-07-16T23:50:20.236507+00:00 app[web.1]: To: manseauian@gmail.com
2015-07-16T23:50:20.236509+00:00 app[web.1]: Message-ID: <55a8433c35aa6_33f934cf2395012582@ba6db7cd-b3d8-41f7-ae17-8dff67224430.mail>
2015-07-16T23:50:20.236510+00:00 app[web.1]: Subject: Spree Demo Site Order Confirmation #R975417187
2015-07-16T23:50:20.236512+00:00 app[web.1]: Mime-Version: 1.0
2015-07-16T23:50:20.236514+00:00 app[web.1]: Content-Type: multipart/alternative;
2015-07-16T23:50:20.236516+00:00 app[web.1]:  boundary="--==_mimepart_55a8433c8b87_33f934cf23950124ed";
2015-07-16T23:50:20.236518+00:00 app[web.1]:  charset=UTF-8
2015-07-16T23:50:20.236520+00:00 app[web.1]: Content-Transfer-Encoding: 7bit
2015-07-16T23:50:20.236522+00:00 app[web.1]: 
2015-07-16T23:50:20.236524+00:00 app[web.1]: 
2015-07-16T23:50:20.236526+00:00 app[web.1]: ----==_mimepart_55a8433c8b87_33f934cf23950124ed
2015-07-16T23:50:20.236528+00:00 app[web.1]: Content-Type: text/plain;
2015-07-16T23:50:20.236529+00:00 app[web.1]:  charset=UTF-8
2015-07-16T23:50:20.236531+00:00 app[web.1]: Content-Transfer-Encoding: 7bit
2015-07-16T23:50:20.236533+00:00 app[web.1]: 
2015-07-16T23:50:20.236534+00:00 app[web.1]: Dear Customer,
2015-07-16T23:50:20.236536+00:00 app[web.1]: 
2015-07-16T23:50:20.236538+00:00 app[web.1]: Please review and retain the following order information for your records.
2015-07-16T23:50:20.236540+00:00 app[web.1]: 
2015-07-16T23:50:20.236541+00:00 app[web.1]: ============================================================
2015-07-16T23:50:20.236545+00:00 app[web.1]: Order Summary
2015-07-16T23:50:20.236547+00:00 app[web.1]: ============================================================
2015-07-16T23:50:20.236549+00:00 app[web.1]:   UD-DEMO-0001 Utterless Depravity Demo Deck  (1) @ $20.00 = $20.00
2015-07-16T23:50:20.236551+00:00 app[web.1]: ============================================================
2015-07-16T23:50:20.236552+00:00 app[web.1]: Subtotal: $20.00
2015-07-16T23:50:20.236554+00:00 app[web.1]: 
2015-07-16T23:50:20.236556+00:00 app[web.1]: Shipping: USPS Priority $5.00
2015-07-16T23:50:20.236557+00:00 app[web.1]: 
2015-07-16T23:50:20.236559+00:00 app[web.1]: 
2015-07-16T23:50:20.236560+00:00 app[web.1]: ============================================================
2015-07-16T23:50:20.236562+00:00 app[web.1]: Order Total: $25.00
2015-07-16T23:50:20.236564+00:00 app[web.1]: 
2015-07-16T23:50:20.236566+00:00 app[web.1]: Thank you for your business.
2015-07-16T23:50:20.236568+00:00 app[web.1]: 
2015-07-16T23:50:20.236569+00:00 app[web.1]: ----==_mimepart_55a8433c8b87_33f934cf23950124ed
2015-07-16T23:50:20.236570+00:00 app[web.1]: Content-Type: text/html;
2015-07-16T23:50:20.236572+00:00 app[web.1]:  charset=UTF-8
2015-07-16T23:50:20.236573+00:00 app[web.1]: Content-Transfer-Encoding: 7bit
2015-07-16T23:50:20.236574+00:00 app[web.1]: 
2015-07-16T23:50:20.236576+00:00 app[web.1]: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
2015-07-16T23:50:20.236578+00:00 app[web.1]: <html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
2015-07-16T23:50:20.236579+00:00 app[web.1]: <head>
2015-07-16T23:50:20.236580+00:00 app[web.1]: 	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
2015-07-16T23:50:20.236582+00:00 app[web.1]: 	<meta name="viewport" content="width=device-width" />
2015-07-16T23:50:20.236583+00:00 app[web.1]: 	
2015-07-16T23:50:20.236585+00:00 app[web.1]:   
2015-07-16T23:50:20.236586+00:00 app[web.1]: </head>
2015-07-16T23:50:20.236588+00:00 app[web.1]: <body style="-ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; line-height: 19px; margin: 0; min-width: 100%; padding: 0; text-align: left; width: 100% !important"><style type="text/css">
2015-07-16T23:50:20.236589+00:00 app[web.1]: body {
2015-07-16T23:50:20.236591+00:00 app[web.1]: width: 100% !important; min-width: 100%; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; margin: 0; padding: 0;
2015-07-16T23:50:20.236592+00:00 app[web.1]: }
2015-07-16T23:50:20.236593+00:00 app[web.1]: .ExternalClass {
2015-07-16T23:50:20.236595+00:00 app[web.1]: width: 100%;
2015-07-16T23:50:20.236596+00:00 app[web.1]: }
2015-07-16T23:50:20.236597+00:00 app[web.1]: .ExternalClass {
2015-07-16T23:50:20.236599+00:00 app[web.1]: line-height: 100%;
2015-07-16T23:50:20.236600+00:00 app[web.1]: }
2015-07-16T23:50:20.236601+00:00 app[web.1]: #backgroundTable {
2015-07-16T23:50:20.236602+00:00 app[web.1]: margin: 0; padding: 0; width: 100% !important; line-height: 100% !important;
2015-07-16T23:50:20.236603+00:00 app[web.1]: }
2015-07-16T23:50:20.236605+00:00 app[web.1]: img {
2015-07-16T23:50:20.236606+00:00 app[web.1]: outline: none; text-decoration: none; -ms-interpolation-mode: bicubic; width: auto; max-width: 100%; float: left; clear: both; display: block;
2015-07-16T23:50:20.236608+00:00 app[web.1]: }
2015-07-16T23:50:20.236609+00:00 app[web.1]: body {
2015-07-16T23:50:20.236610+00:00 app[web.1]: color: #222222; font-family: "Helvetica", "Arial", sans-serif; font-weight: normal; padding: 0; margin: 0; text-align: left; line-height: 1.3;
2015-07-16T23:50:20.236611+00:00 app[web.1]: }
2015-07-16T23:50:20.236613+00:00 app[web.1]: body {
2015-07-16T23:50:20.236614+00:00 app[web.1]: font-size: 14px; line-height: 19px;
2015-07-16T23:50:20.236615+00:00 app[web.1]: }
2015-07-16T23:50:20.236616+00:00 app[web.1]: a:hover {
2015-07-16T23:50:20.236618+00:00 app[web.1]: color: #2795b6 !important;
2015-07-16T23:50:20.236619+00:00 app[web.1]: }
2015-07-16T23:50:20.236621+00:00 app[web.1]: a:active {
2015-07-16T23:50:20.236622+00:00 app[web.1]: color: #2795b6 !important;
2015-07-16T23:50:20.236624+00:00 app[web.1]: }
2015-07-16T23:50:20.236625+00:00 app[web.1]: a:visited {
2015-07-16T23:50:20.236626+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236628+00:00 app[web.1]: }
2015-07-16T23:50:20.236629+00:00 app[web.1]: h1 a:active {
2015-07-16T23:50:20.236630+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236631+00:00 app[web.1]: }
2015-07-16T23:50:20.236633+00:00 app[web.1]: h2 a:active {
2015-07-16T23:50:20.236634+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236635+00:00 app[web.1]: }
2015-07-16T23:50:20.236637+00:00 app[web.1]: h3 a:active {
2015-07-16T23:50:20.236638+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236639+00:00 app[web.1]: }
2015-07-16T23:50:20.236640+00:00 app[web.1]: h4 a:active {
2015-07-16T23:50:20.236641+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236642+00:00 app[web.1]: }
2015-07-16T23:50:20.236644+00:00 app[web.1]: h5 a:active {
2015-07-16T23:50:20.236645+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236646+00:00 app[web.1]: }
2015-07-16T23:50:20.236648+00:00 app[web.1]: h6 a:active {
2015-07-16T23:50:20.236649+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236650+00:00 app[web.1]: }
2015-07-16T23:50:20.236652+00:00 app[web.1]: h1 a:visited {
2015-07-16T23:50:20.236654+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236655+00:00 app[web.1]: }
2015-07-16T23:50:20.236657+00:00 app[web.1]: h2 a:visited {
2015-07-16T23:50:20.236658+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236660+00:00 app[web.1]: }
2015-07-16T23:50:20.236661+00:00 app[web.1]: h3 a:visited {
2015-07-16T23:50:20.236663+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236664+00:00 app[web.1]: }
2015-07-16T23:50:20.236666+00:00 app[web.1]: h4 a:visited {
2015-07-16T23:50:20.236667+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236669+00:00 app[web.1]: }
2015-07-16T23:50:20.236670+00:00 app[web.1]: h5 a:visited {
2015-07-16T23:50:20.236672+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236673+00:00 app[web.1]: }
2015-07-16T23:50:20.236675+00:00 app[web.1]: h6 a:visited {
2015-07-16T23:50:20.236677+00:00 app[web.1]: color: #2ba6cb !important;
2015-07-16T23:50:20.236678+00:00 app[web.1]: }
2015-07-16T23:50:20.236680+00:00 app[web.1]: table.button:hover td {
2015-07-16T23:50:20.236682+00:00 app[web.1]: background: #2795b6 !important;
2015-07-16T23:50:20.236683+00:00 app[web.1]: }
2015-07-16T23:50:20.236685+00:00 app[web.1]: table.button:visited td {
2015-07-16T23:50:20.236687+00:00 app[web.1]: background: #2795b6 !important;
2015-07-16T23:50:20.236688+00:00 app[web.1]: }
2015-07-16T23:50:20.236690+00:00 app[web.1]: table.button:active td {
2015-07-16T23:50:20.236691+00:00 app[web.1]: background: #2795b6 !important;
2015-07-16T23:50:20.236693+00:00 app[web.1]: }
2015-07-16T23:50:20.236694+00:00 app[web.1]: table.button:hover td a {
2015-07-16T23:50:20.236696+00:00 app[web.1]: color: #fff !important;
2015-07-16T23:50:20.236698+00:00 app[web.1]: }
2015-07-16T23:50:20.236700+00:00 app[web.1]: table.button:visited td a {
2015-07-16T23:50:20.236701+00:00 app[web.1]: color: #fff !important;
2015-07-16T23:50:20.236703+00:00 app[web.1]: }
2015-07-16T23:50:20.236704+00:00 app[web.1]: table.button:active td a {
2015-07-16T23:50:20.236705+00:00 app[web.1]: color: #fff !important;
2015-07-16T23:50:20.236706+00:00 app[web.1]: }
2015-07-16T23:50:20.236708+00:00 app[web.1]: table.button:hover td {
2015-07-16T23:50:20.236709+00:00 app[web.1]: background: #2795b6 !important;
2015-07-16T23:50:20.236710+00:00 app[web.1]: }
2015-07-16T23:50:20.236712+00:00 app[web.1]: table.tiny-button:hover td {
2015-07-16T23:50:20.236713+00:00 app[web.1]: background: #2795b6 !important;
2015-07-16T23:50:20.236714+00:00 app[web.1]: }
2015-07-16T23:50:20.236716+00:00 app[web.1]: table.small-button:hover td {
2015-07-16T23:50:20.236717+00:00 app[web.1]: background: #27
95b6 !important;
2015-07-16T23:50:20.236718+00:00 app[web.1]: }
2015-07-16T23:50:20.236720+00:00 app[web.1]: table.medium-button:hover td {
2015-07-16T23:50:20.236721+00:00 app[web.1]: background: #2795b6 !important;
2015-07-16T23:50:20.236722+00:00 app[web.1]: }
2015-07-16T23:50:20.236723+00:00 app[web.1]: table.large-button:hover td {
2015-07-16T23:50:20.236725+00:00 app[web.1]: background: #2795b6 !important;
2015-07-16T23:50:20.236726+00:00 app[web.1]: }
2015-07-16T23:50:20.236727+00:00 app[web.1]: table.button:hover td a {
2015-07-16T23:50:20.236728+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236729+00:00 app[web.1]: }
2015-07-16T23:50:20.236730+00:00 app[web.1]: table.button:active td a {
2015-07-16T23:50:20.236732+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236733+00:00 app[web.1]: }
2015-07-16T23:50:20.236739+00:00 app[web.1]: table.button td a:visited {
2015-07-16T23:50:20.236740+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236741+00:00 app[web.1]: }
2015-07-16T23:50:20.236742+00:00 app[web.1]: table.tiny-button:hover td a {
2015-07-16T23:50:20.236744+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236745+00:00 app[web.1]: }
2015-07-16T23:50:20.236746+00:00 app[web.1]: table.tiny-button:active td a {
2015-07-16T23:50:20.236748+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236749+00:00 app[web.1]: }
2015-07-16T23:50:20.236750+00:00 app[web.1]: table.tiny-button td a:visited {
2015-07-16T23:50:20.236751+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236752+00:00 app[web.1]: }
2015-07-16T23:50:20.236754+00:00 app[web.1]: table.small-button:hover td a {
2015-07-16T23:50:20.236755+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236756+00:00 app[web.1]: }
2015-07-16T23:50:20.236758+00:00 app[web.1]: table.small-button:active td a {
2015-07-16T23:50:20.236759+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236760+00:00 app[web.1]: }
2015-07-16T23:50:20.236761+00:00 app[web.1]: table.small-button td a:visited {
2015-07-16T23:50:20.236762+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236764+00:00 app[web.1]: }
2015-07-16T23:50:20.236765+00:00 app[web.1]: table.medium-button:hover td a {
2015-07-16T23:50:20.236766+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236768+00:00 app[web.1]: }
2015-07-16T23:50:20.236769+00:00 app[web.1]: table.medium-button:active td a {
2015-07-16T23:50:20.236770+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236772+00:00 app[web.1]: }
2015-07-16T23:50:20.236773+00:00 app[web.1]: table.medium-button td a:visited {
2015-07-16T23:50:20.236774+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236776+00:00 app[web.1]: }
2015-07-16T23:50:20.236777+00:00 app[web.1]: table.large-button:hover td a {
2015-07-16T23:50:20.236778+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236779+00:00 app[web.1]: }
2015-07-16T23:50:20.236781+00:00 app[web.1]: table.large-button:active td a {
2015-07-16T23:50:20.236782+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236783+00:00 app[web.1]: }
2015-07-16T23:50:20.236784+00:00 app[web.1]: table.large-button td a:visited {
2015-07-16T23:50:20.236786+00:00 app[web.1]: color: #ffffff !important;
2015-07-16T23:50:20.236787+00:00 app[web.1]: }
2015-07-16T23:50:20.236789+00:00 app[web.1]: table.secondary:hover td {
2015-07-16T23:50:20.236790+00:00 app[web.1]: background: #d0d0d0 !important; color: #555;
2015-07-16T23:50:20.236792+00:00 app[web.1]: }
2015-07-16T23:50:20.236793+00:00 app[web.1]: table.secondary:hover td a {
2015-07-16T23:50:20.236795+00:00 app[web.1]: color: #555 !important;
2015-07-16T23:50:20.236796+00:00 app[web.1]: }
2015-07-16T23:50:20.236798+00:00 app[web.1]: table.secondary td a:visited {
2015-07-16T23:50:20.236800+00:00 app[web.1]: color: #555 !important;
2015-07-16T23:50:20.236801+00:00 app[web.1]: }
2015-07-16T23:50:20.236803+00:00 app[web.1]: table.secondary:active td a {
2015-07-16T23:50:20.236805+00:00 app[web.1]: color: #555 !important;
2015-07-16T23:50:20.236806+00:00 app[web.1]: }
2015-07-16T23:50:20.236808+00:00 app[web.1]: table.success:hover td {
2015-07-16T23:50:20.236809+00:00 app[web.1]: background: #457a1a !important;
2015-07-16T23:50:20.236811+00:00 app[web.1]: }
2015-07-16T23:50:20.236812+00:00 app[web.1]: table.alert:hover td {
2015-07-16T23:50:20.236814+00:00 app[web.1]: background: #970b0e !important;
2015-07-16T23:50:20.236816+00:00 app[web.1]: }
2015-07-16T23:50:20.236818+00:00 app[web.1]: body.outlook p {
2015-07-16T23:50:20.236819+00:00 app[web.1]: display: inline !important;
2015-07-16T23:50:20.236821+00:00 app[web.1]: }
2015-07-16T23:50:20.236823+00:00 app[web.1]: @media only screen and (max-width: 600px) {
2015-07-16T23:50:20.236825+00:00 app[web.1]:   table[class="body"] img {
2015-07-16T23:50:20.236827+00:00 app[web.1]:     width: auto !important; height: auto !important;
2015-07-16T23:50:20.236829+00:00 app[web.1]:   }
2015-07-16T23:50:20.236830+00:00 app[web.1]:   table[class="body"] center {
2015-07-16T23:50:20.236832+00:00 app[web.1]:     min-width: 0 !important;
2015-07-16T23:50:20.236833+00:00 app[web.1]:   }
2015-07-16T23:50:20.236835+00:00 app[web.1]:   table[class="body"] .container {
2015-07-16T23:50:20.236837+00:00 app[web.1]:     width: 95% !important;
2015-07-16T23:50:20.236839+00:00 app[web.1]:   }
2015-07-16T23:50:20.236840+00:00 app[web.1]:   table[class="body"] .row {
2015-07-16T23:50:20.236841+00:00 app[web.1]:     width: 100% !important; display: block !important;
2015-07-16T23:50:20.236843+00:00 app[web.1]:   }
2015-07-16T23:50:20.236845+00:00 app[web.1]:   table[class="body"] .wrapper {
2015-07-16T23:50:20.236846+00:00 app[web.1]:     display: block !important; padding-right: 0 !important;
2015-07-16T23:50:20.236848+00:00 app[web.1]:   }
2015-07-16T23:50:20.236849+00:00 app[web.1]:   table[class="body"] .columns {
2015-07-16T23:50:20.236851+00:00 app[web.1]:     table-layout: fixed !important; float: none !important; width: 100% !important; padding-right: 0px !important; padding-left: 0px !important; display: block !important;
2015-07-16T23:50:20.236852+00:00 app[web.1]:   }
2015-07-16T23:50:20.236854+00:00 app[web.1]:   table[class="body"] .column {
2015-07-16T23:50:20.236856+00:00 app[web.1]:     table-layout: fixed !important; float: none !important; width: 100% !important; padding-right: 0px !important; padding-left: 0px !important; display: block !important;
2015-07-16T23:50:20.236857+00:00 app[web.1]:   }
2015-07-16T23:50:20.236858+00:00 app[web.1]:   table[class="body"] .wrapper.first .columns {
2015-07-16T23:50:20.236860+00:00 app[web.1]:     display: table !important;
2015-07-16T23:50:20.236861+00:00 app[web.1]:   }
2015-07-16T23:50:20.236862+00:00 app[web.1]:   table[class="body"] .wrapper.first .column {
2015-07-16T23:50:20.236863+00:00 app[web.1]:     display: table !important;
2015-07-16T23:50:20.236865+00:00 app[web.1]:   }
2015-07-16T23:50:20.236866+00:00 app[web.1]:   table[class="body"] table.columns td {
2015-07-16T23:50:20.236867+00:00 app[web.1]:     width: 100% !important;
2015-07-16T23:50:20.236868+00:00 app[web.1]:   }
2015-07-16T23:50:20.236869+00:00 app[web.1]:   table[class="body"] table.column td {
2015-07-16T23:50:20.236871+00:00 app[web.1]:     width: 100% !important;
2015-07-16T23:50:20.236872+00:00 app[web.1]:   }
2015-07-16T23:50:20.236873+00:00 app[web.1]:   table[class="body"] .columns td.one {
2015-07-16T23:50:20.236874+00:00 app[web.1]:     width: 8.333333% !important;
2015-07-16T23:50:20.236876+00:00 app[web.1]:   }
2015-07-16T23:50:20.236877+00:00 app[web.1]:   table[class="body"] .column td.one {
2015-07-16T23:50:20.236878+00:00 app[web.1]:     width: 8.333333% !important;
2015-07-16T23:50:20.236879+00:00 app[web.1]:   }
2015-07-16T23:50:20.236881+00:00 app[web.1]:   table[class="body"] .columns td.two {
2015-07-16T23:50:20.236882+00:00 app[web.1]:     width: 16.666666% !important;
2015-07-16T23:50:20.236883+00:00 app[web.1]:   }
2015-07-16T23:50:20.236884+00:00 app[web.1]:   table[class="body"] .column td.two {
2015-07-16T23:50:20.236885+00:00 app[web.1]:     width: 16.666666% !important;
2015-07-16T23:50:20.236887+00:00 app[web.1]:   }
2015-07-16T23:50:20.236888+00:00 app[web.1]:   table[class="body"] .columns td.three {
2015-07-16T23:50:20.236889+00:00 app[web.1]:     width: 25% !important;
2015-07-16T23:50:20.236890+00:00 app[web.1]:   }
2015-07-16T23:50:20.236891+00:00 app[web.1]:   table[class="body"] .column td.three {
2015-07-16T23:50:20.236893+00:00 app[web.1]:     width: 25% !important;
2015-07-16T23:50:20.236894+00:00 app[web.1]:   }
2015-07-16T23:50:20.236895+00:00 app[web.1]:   table[class="body"] .columns td.four {
2015-07-16T23:50:20.236896+00:00 app[web.1]:     width: 33.333333% !important;
2015-07-16T23:50:20.236898+00:00 app[web.1]:   }
2015-07-16T23:50:20.236899+00:00 app[web.1]:   table[class="body"] .column td.four {
2015-07-16T23:50:20.236900+00:00 app[web.1]:     width: 33.333333% !important;
2015-07-16T23:50:20.236901+00:00 app[web.1]:   }
2015-07-16T23:50:20.236902+00:00 app[web.1]:   table[class="body"] .columns td.five {
2015-07-16T23:50:20.236904+00:00 app[web.1]:     width: 41.666666% !important;
2015-07-16T23:50:20.236905+00:00 app[web.1]:   }
2015-07-16T23:50:20.236906+00:00 app[web.1]:   table[class="body"] .column td.five {
2015-07-16T23:50:20.236907+00:00 app[web.1]:     width: 41.666666% !important;
2015-07-16T23:50:20.236908+00:00 app[web.1]:   }
2015-07-16T23:50:20.236909+00:00 app[web.1]:   table[class="body"] .columns td.six {
2015-07-16T23:50:20.236911+00:00 app[web.1]:     width: 50% !important;
2015-07-16T23:50:20.236912+00:00 app[web.1]:   }
2015-07-16T23:50:20.236913+00:00 app[web.1]:   table[class="body"] .column td.six {
2015-07-16T23:50:20.236914+00:00 app[web.1]:     width: 50% !important;
2015-07-16T23:50:20.236915+00:00 app[web.1]:   }
2015-07-16T23:50:20.236917+00:00 app[web.1]:   table[class="body"] .columns td.seven {
2015-07-16T23:50:20.236918+00:00 app[web.1]:     width: 58.333333% !important;
2015-07-16T23:50:20.236919+00:00 app[web.1]:   }
2015-07-16T23:50:20.236920+00:00 app[web.1]:   table[class="body"] .column td.seven {
2015-07-16T23:50:20.236922+00:00 app[web.1]:     width: 58.333333% !important;
2015-07-16T23:50:20.236923+00:00 app[web.1]:   }
2015-07-16T23:50:20.236925+00:00 app[web.1]:   table[class="body"] .columns td.eight {
2015-07-16T23:50:20.236926+00:00 app[web.1]:     width: 66.666666% !important;
2015-07-16T23:50:20.236927+00:00 app[web.1]:   }
2015-07-16T23:50:20.236929+00:00 app[web.1]:   table[class="body"] .column td.eight {
2015-07-16T23:50:20.236930+00:00 app[web.1]:     width: 66.666666% !important;
2015-07-16T23:50:20.236932+00:00 app[web.1]:   }
2015-07-16T23:50:20.236934+00:00 app[web.1]:   table[class="body"] .columns td.nine {
2015-07-16T23:50:20.236936+00:00 app[web.1]:     width: 75% !important;
2015-07-16T23:50:20.236938+00:00 app[web.1]:   }
2015-07-16T23:50:20.236939+00:00 app[web.1]:   table[class="body"] .column td.nine {
2015-07-16T23:50:20.236941+00:00 app[web.1]:     width: 75% !important;
2015-07-16T23:50:20.236942+00:00 app[web.1]:   }
2015-07-16T23:50:20.236944+00:00 app[web.1]:   table[class="body"] .columns td.ten {
2015-07-16T23:50:20.236945+00:00 app[web.1]:     width: 83.333333% !important;
2015-07-16T23:50:20.236947+00:00 app[web.1]:   }
2015-07-16T23:50:20.236948+00:00 app[web.1]:   table[class="body"] .column td.ten {
2015-07-16T23:50:20.236950+00:00 app[web.1]:     width: 83.333333% !important;
2015-07-16T23:50:20.236952+00:00 app[web.1]:   }
2015-07-16T23:50:20.236959+00:00 app[web.1]:   table[class="body"] .columns td.eleven {
2015-07-16T23:50:20.236961+00:00 app[web.1]:     width: 91.666666% !important;
2015-07-16T23:50:20.236964+00:00 app[web.1]:   }
2015-07-16T23:50:20.236966+00:00 app[web.1]:   table[class="body"] .column td.eleven {
2015-07-16T23:50:20.236967+00:00 app[web.1]:     width: 91.666666% !important;
2015-07-16T23:50:20.236969+00:00 app[web.1]:   }
2015-07-16T23:50:20.236971+00:00 app[web.1]:   table[class="body"] .columns td.twelve {
2015-07-16T23:50:20.236973+00:00 app[web.1]:     width: 100% !important;
2015-07-16T23:50:20.236975+00:00 app[web.1]:   }
2015-07-16T23:50:20.236976+00:00 app[web.1]:   table[class="body"] .column td.twelve {
2015-07-16T23:50:20.236978+00:00 app[web.1]:     width: 100% !important;
2015-07-16T23:50:20.236979+00:00 app[web.1]:   }
2015-07-16T23:50:20.236980+00:00 app[web.1]:   table[class="body"] td.offset-by-one {
2015-07-16T23:50:20.236982+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.236983+00:00 app[web.1]:   }
2015-07-16T23:50:20.236984+00:00 app[web.1]:   table[class="body"] td.offset-by-two {
2015-07-16T23:50:20.236985+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.236987+00:00 app[web.1]:   }
2015-07-16T23:50:20.236988+00:00 app[web.1]:   table[class="body"] td.offset-by-three {
2015-07-16T23:50:20.236989+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.236991+00:00 app[web.1]:   }
2015-07-16T23:50:20.236992+00:00 app[web.1]:   table[class="body"] td.offset-by-four {
2015-07-16T23:50:20.236993+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.236994+00:00 app[web.1]:   }
2015-07-16T23:50:20.236996+00:00 app[web.1]:   table[class="body"] td.offset-by-five {
2015-07-16T23:50:20.236997+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.236998+00:00 app[web.1]:   }
2015-07-16T23:50:20.236999+00:00 app[web.1]:   table[class="body"] td.offset-by-six {
2015-07-16T23:50:20.237000+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.237001+00:00 app[web.1]:   }
2015-07-16T23:50:20.237002+00:00 app[web.1]:   table[class="body"] td.offset-by-seven {
2015-07-16T23:50:20.237004+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.237005+00:00 app[web.1]:   }
2015-07-16T23:50:20.237006+00:00 app[web.1]:   table[class="body"] td.offset-by-eight {
2015-07-16T23:50:20.237007+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.237008+00:00 app[web.1]:   }
2015-07-16T23:50:20.237009+00:00 app[web.1]:   table[class="body"] td.offset-by-nine {
2015-07-16T23:50:20.237011+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.237012+00:00 app[web.1]:   }
2015-07-16T23:50:20.237013+00:00 app[web.1]:   table[class="body"] td.offset-by-ten {
2015-07-16T23:50:20.237014+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.237015+00:00 app[web.1]:   }
2015-07-16T23:50:20.237016+00:00 app[web.1]:   table[class="body"] td.offset-by-eleven {
2015-07-16T23:50:20.237017+00:00 app[web.1]:     padding-left: 0 !important;
2015-07-16T23:50:20.237019+00:00 app[web.1]:   }
2015-07-16T23:50:20.237020+00:00 app[web.1]:   table[class="body"] table.columns td.expander {
2015-07-16T23:50:20.237021+00:00 app[web.1]:     width: 1px !important;
2015-07-16T23:50:20.237023+00:00 app[web.1]:   }
2015-07-16T23:50:20.237024+00:00 app[web.1]:   table[class="body"] .right-text-pad {
2015-07-16T23:50:20.237025+00:00 app[web.1]:     padding-left: 10px !important;
2015-07-16T23:50:20.237026+00:00 app[web.1]:   }
2015-07-16T23:50:2
0.237027+00:00 app[web.1]:   table[class="body"] .text-pad-right {
2015-07-16T23:50:20.237028+00:00 app[web.1]:     padding-left: 10px !important;
2015-07-16T23:50:20.237030+00:00 app[web.1]:   }
2015-07-16T23:50:20.237031+00:00 app[web.1]:   table[class="body"] .left-text-pad {
2015-07-16T23:50:20.237032+00:00 app[web.1]:     padding-right: 10px !important;
2015-07-16T23:50:20.237034+00:00 app[web.1]:   }
2015-07-16T23:50:20.237036+00:00 app[web.1]:   table[class="body"] .text-pad-left {
2015-07-16T23:50:20.237037+00:00 app[web.1]:     padding-right: 10px !important;
2015-07-16T23:50:20.237038+00:00 app[web.1]:   }
2015-07-16T23:50:20.237039+00:00 app[web.1]:   table[class="body"] .hide-for-small {
2015-07-16T23:50:20.237040+00:00 app[web.1]:     display: none !important;
2015-07-16T23:50:20.237041+00:00 app[web.1]:   }
2015-07-16T23:50:20.237043+00:00 app[web.1]:   table[class="body"] .show-for-desktop {
2015-07-16T23:50:20.237044+00:00 app[web.1]:     display: none !important;
2015-07-16T23:50:20.237045+00:00 app[web.1]:   }
2015-07-16T23:50:20.237046+00:00 app[web.1]:   table[class="body"] .show-for-small {
2015-07-16T23:50:20.237047+00:00 app[web.1]:     display: inherit !important;
2015-07-16T23:50:20.237048+00:00 app[web.1]:   }
2015-07-16T23:50:20.237050+00:00 app[web.1]:   table[class="body"] .hide-for-desktop {
2015-07-16T23:50:20.237051+00:00 app[web.1]:     display: inherit !important;
2015-07-16T23:50:20.237052+00:00 app[web.1]:   }
2015-07-16T23:50:20.237053+00:00 app[web.1]:   table[class="body"] .right-text-pad {
2015-07-16T23:50:20.237055+00:00 app[web.1]:     padding-left: 10px !important;
2015-07-16T23:50:20.237056+00:00 app[web.1]:   }
2015-07-16T23:50:20.237058+00:00 app[web.1]:   table[class="body"] .left-text-pad {
2015-07-16T23:50:20.237059+00:00 app[web.1]:     padding-right: 10px !important;
2015-07-16T23:50:20.237061+00:00 app[web.1]:   }
2015-07-16T23:50:20.237063+00:00 app[web.1]: }
2015-07-16T23:50:20.237064+00:00 app[web.1]: </style>
2015-07-16T23:50:20.237067+00:00 app[web.1]:   <table class="body" style="border-collapse: collapse; border-spacing: 0; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; height: 100%; line-height: 19px; margin: 0; padding: 0; text-align: left; vertical-align: top; width: 100%">
2015-07-16T23:50:20.237069+00:00 app[web.1]:     <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237071+00:00 app[web.1]:       <td class="center" align="center" valign="top" style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0; text-align: center; vertical-align: top; word-break: break-word">
2015-07-16T23:50:20.237073+00:00 app[web.1]:         <center style="min-width: 580px; width: 100%">
2015-07-16T23:50:20.237075+00:00 app[web.1]:           <!-- You can override this template to design your own header.
2015-07-16T23:50:20.237077+00:00 app[web.1]: <table class="row header">
2015-07-16T23:50:20.237079+00:00 app[web.1]:   <tr>
2015-07-16T23:50:20.237080+00:00 app[web.1]:     <td class="center" align="center">
2015-07-16T23:50:20.237082+00:00 app[web.1]:       <center>
2015-07-16T23:50:20.237084+00:00 app[web.1]: 
2015-07-16T23:50:20.237086+00:00 app[web.1]:         <table class="container">
2015-07-16T23:50:20.237088+00:00 app[web.1]:           <tr>
2015-07-16T23:50:20.237089+00:00 app[web.1]:             <td class="wrapper last">
2015-07-16T23:50:20.237091+00:00 app[web.1]: 
2015-07-16T23:50:20.237093+00:00 app[web.1]:               <table class="twelve columns">
2015-07-16T23:50:20.237095+00:00 app[web.1]:                 <tr>
2015-07-16T23:50:20.237096+00:00 app[web.1]:                   <td class="six sub-columns">
2015-07-16T23:50:20.237098+00:00 app[web.1]:                     <img src="/assets/logo/spree_50-1c7335be355d4672a35c5023956d0c883f254831f3e3dae3f2ca05976ceb5e50.png" alt="Spree 50 1c7335be355d4672a35c5023956d0c883f254831f3e3dae3f2ca05976ceb5e50" />
2015-07-16T23:50:20.237100+00:00 app[web.1]:                   </td>
2015-07-16T23:50:20.237102+00:00 app[web.1]:                   <td class="six sub-columns last" style="text-align:right; vertical-align:middle;">
2015-07-16T23:50:20.237104+00:00 app[web.1]:                     <span class="template-label">Spree Demo Site</span>
2015-07-16T23:50:20.237105+00:00 app[web.1]:                   </td>
2015-07-16T23:50:20.237106+00:00 app[web.1]:                   <td class="expander"></td>
2015-07-16T23:50:20.237108+00:00 app[web.1]:                 </tr>
2015-07-16T23:50:20.237109+00:00 app[web.1]:               </table>
2015-07-16T23:50:20.237110+00:00 app[web.1]: 
2015-07-16T23:50:20.237112+00:00 app[web.1]:             </td>
2015-07-16T23:50:20.237113+00:00 app[web.1]:           </tr>
2015-07-16T23:50:20.237114+00:00 app[web.1]:         </table>
2015-07-16T23:50:20.237115+00:00 app[web.1]: 
2015-07-16T23:50:20.237117+00:00 app[web.1]:       </center>
2015-07-16T23:50:20.237118+00:00 app[web.1]:     </td>
2015-07-16T23:50:20.237119+00:00 app[web.1]:   </tr>
2015-07-16T23:50:20.237121+00:00 app[web.1]: </table>
2015-07-16T23:50:20.237122+00:00 app[web.1]: -->
2015-07-16T23:50:20.237123+00:00 app[web.1]: 
2015-07-16T23:50:20.237124+00:00 app[web.1]:           <table class="container" style="border-collapse: collapse; border-spacing: 0; margin: 0 auto; padding: 0; text-align: inherit; vertical-align: top; width: 580px">
2015-07-16T23:50:20.237131+00:00 app[web.1]:             <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237132+00:00 app[web.1]:               <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237134+00:00 app[web.1]:                 <table class="row" style="border-collapse: collapse; border-spacing: 0; display: block; padding: 0px; position: relative; text-align: left; vertical-align: top; width: 100%">
2015-07-16T23:50:20.237135+00:00 app[web.1]:                   <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237137+00:00 app[web.1]:                     <td class="wrapper last" style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 10px 0px 0px; position: relative; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237139+00:00 app[web.1]:                       <table class="twelve columns" style="border-collapse: collapse; border-spacing: 0; margin: 0 auto; padding: 0; text-align: left; vertical-align: top; width: 580px">
2015-07-16T23:50:20.237140+00:00 app[web.1]:                         <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237142+00:00 app[web.1]:                           <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237143+00:00 app[web.1]:                             <table style="border-collapse: collapse; border-spacing: 0; padding: 0; text-align: left; vertical-align: top">
2015-07-16T23:50:20.237145+00:00 app[web.1]:   <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237146+00:00 app[web.1]:     <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237148+00:00 app[web.1]:       <p class="lede" style="color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 18px; font-weight: normal; line-height: 21px; margin: 0 0 10px; padding: 0; text-align: left" align="left">
2015-07-16T23:50:20.237149+00:00 app[web.1]:         Dear Customer,
2015-07-16T23:50:20.237151+00:00 app[web.1]:       </p>
2015-07-16T23:50:20.237152+00:00 app[web.1]:       <p style="color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; line-height: 19px; margin: 0 0 10px; padding: 0; text-align: left" align="left">
2015-07-16T23:50:20.237154+00:00 app[web.1]:         Please review and retain the following order information for your records.
2015-07-16T23:50:20.237155+00:00 app[web.1]:       </p>
2015-07-16T23:50:20.237156+00:00 app[web.1]:       <p style="color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; line-height: 19px; margin: 0 0 10px; padding: 0; text-align: left" align="left">
2015-07-16T23:50:20.237158+00:00 app[web.1]:         Order Summary
2015-07-16T23:50:20.237159+00:00 app[web.1]:       </p>
2015-07-16T23:50:20.237161+00:00 app[web.1]:       <table style="border-collapse: collapse; border-spacing: 0; padding: 0; text-align: left; vertical-align: top">
2015-07-16T23:50:20.237162+00:00 app[web.1]:           <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237163+00:00 app[web.1]:             <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">UD-DEMO-0001</td>
2015-07-16T23:50:20.237167+00:00 app[web.1]:             <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237169+00:00 app[web.1]:               Utterless Depravity Demo Deck
2015-07-16T23:50:20.237170+00:00 app[web.1]:                           </td>
2015-07-16T23:50:20.237171+00:00 app[web.1]:             <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">(1) @ $20.00 = $20.00</td>
2015-07-16T23:50:20.237172+00:00 app[web.1]:           </tr>
2015-07-16T23:50:20.237174+00:00 app[web.1]:         <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237175+00:00 app[web.1]:           <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top"></td>
2015-07-16T23:50:20.237181+00:00 app[web.1]:           <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237182+00:00 app[web.1]:             Subtotal:
2015-07-16T23:50:20.237184+00:00 app[web.1]:           </td>
2015-07-16T23:50:20.237185+00:00 app[web.1]:           <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237186+00:00 app[web.1]:             $20.00
2015-07-16T23:50:20.237187+00:00 app[web.1]:           </td>
2015-07-16T23:50:20.237189+00:00 app[web.1]:         </tr>
2015-07-16T23:50:20.237190+00:00 app[web.1]:           <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237192+00:00 app[web.1]:             <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top"></td>
2015-07-16T23:50:20.237194+00:00 app[web.1]:             <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">Shipping USPS Priority:</td>
2015-07-16T23:50:20.237196+00:00 app[web.1]:             <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">$5.00</td>
2015-07-16T23:50:20.237198+00:00 app[web.1]:           </tr>
2015-07-16T23:50:20.237200+00:00 app[web.1]:         <tr style="padding: 0; text-align: left; vertical-align: top" align="left">
2015-07-16T23:50:20.237201+00:00 app[web.1]:           <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top"></td>
2015-07-16T23:50:20.237209+00:00 app[web.1]:           <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237211+00:00 app[web.1]:             Order Total:
2015-07-16T23:50:20.237213+00:00 app[web.1]:           </td>
2015-07-16T23:50:20.237214+00:00 app[web.1]:           <td style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0px 0px 10px; text-align: left; vertical-align: top; word-break: break-word" align="left" valign="top">
2015-07-16T23:50:20.237216+00:00 app[web.1]:             $25.00
2015-07-16T23:50:20.237218+00:00 app[web.1]:           </td>
2015-07-16T23:50:20.237219+00:00 app[web.1]:         </tr>
2015-07-16T23:50:20.237221+00:00 app[web.1]:       </table>
2015-07-16T23:50:20.237223+00:00 app[web.1]:       <p style="color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; line-height: 19px; margin: 0 0 10px; padding: 0; text-align: left" align="left">
2015-07-16T23:50:20.237226+00:00 app[web.1]:         Thank you for your business.
2015-07-16T23:50:20.237228+00:00 app[web.1]:       </p>
2015-07-16T23:50:20.237229+00:00 app[web.1]:     </td>
2015-07-16T23:50:20.237231+00:00 app[web.1]:     <td class="expander" style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0; text-align: left; vertical-align: top; visibility: hidden; width: 0px; word-break: break-word" align="left" valign="top"></td>
2015-07-16T23:50:20.237233+00:00 app[web.1]:   </tr>
2015-07-16T23:50:20.237235+00:00 app[web.1]: </table>
2015-07-16T23:50:20.237237+00:00 app[web.1]: 
2015-07-16T23:50:20.237239+00:00 app[web.1]:                           </td>
2015-07-16T23:50:20.237241+00:00 app[web.1]:                           <td class="expander" style="-moz-hyphens: auto; -webkit-hyphens: auto; border-collapse: collapse !important; color: #222222; font-family: 'Helvetica', 'Arial', sans-serif; font-size: 14px; font-weight: normal; hyphens: auto; line-height: 19px; margin: 0; padding: 0; text-align: left; vertical-align: top; visibility: hidden; width: 0px; word-break: break-word" align="left" valign="top"></td>
2015-07-16T23:50:20.237243+00:00 app[web.1]:                         </tr>
2015-07-16T23:50:20.237245+00:00 app[web.1]:                       </table>
2015-07-16T23:50:20.237246+00:00 app[web.1]:                     </td>
2015-07-16T23:50:20.237247+00:00 app[web.1]:                   </tr>
2015-07-16T23:50:20.237249+00:00 app[web.1]:                 </table>
2015-07-16T23:50:20.237250+00:00 app[web.1]:                 <!-- You can override this template to design your own footer.
2015-07-16T23:50:20.237251+00:00 app[web.1]: <table class="row footer">
2015-07-16T23:50:20.237253+00:00 app[web.1]:   <tr>
2015-07-16T23:50:20.237254+00:00 app[web.1]:     <td class="wrapper last">
2015-07-16T23:50:20.237255+00:00 app[web.1]: 
2015-07-16T23:50:20.244359+00:00 heroku[router]: at=info method=POST path="/checkout/update/payment" host=fathomless-hollows-4030.herokuapp.com request_id=3ebdbf7f-19a5-4d92-97a8-fb96de6e2328 fwd="99.118.33.200" dyno=web.1 connect=1ms service=561ms status=500 bytes=1754
2015-07-16T23:50:20.237257+00:00 app[web.1]:       <table class="twelve columns">
2015-07-16T23:50:20.237258+00:00 app[web.1]:         <tr>
2015-07-16T23:50:20.237259+00:00 app[web.1]:           <td align="center">
2015-07-16T23:50:20.237261+00:00 app[web.1]:             <center>
2015-07-16T23:50:20.237262+00:00 app[web.1]:               <p style="text-align:center;"><a href="#">Terms</a> | <a href="#">Privacy</a> | <a href="#">Unsubscribe</a></p>
2015-07-16T23:50:20.237263+00:00 app[web.1]:             </center>
2015-07-16T23:50:20.237264+00:00 app[web.1]:           </td>
2015-07-16T23:50:20.237266+00:00 app[web.1]:           <td class="expander"></td>
2015-07-16T23:50:20.237267+00:00 app[web.1]:         </tr>
2015-07-16T23:50:20.237268+00:00 app[web.1]:       </table>
2015-07-16T23:50:20.237269+00:00 app[web.1]: 
2015-07-16T23:50:20.237271+00:00 app[web.1]:     </td>
2015-07-16T23:50:20.237272+00:00 app[web.1]:   </tr>
2015-07-16T23:50:20.237273+00:00 app[web.1]: </table>
2015-07-16T23:50:20.237274+00:00 app[web.1]: -->
2015-07-16T23:50:20.237276+00:00 app[web.1]: 
2015-07-16T23:50:20.237277+00:00 app[web.1]:               <!-- container end below -->
2015-07-16T23:50:20.237278+00:00 app[web.1]:               </td>
2015-07-16T23:50:20.237280+00:00 app[web.1]:             </tr>
2015-07-16T23:50:20.237281+00:00 app[web.1]:           </table>
2015-07-16T23:50:20.237282+00:00 app[web.1]:         </center>
2015-07-16T23:50:20.237283+00:00 app[web.1]:       </td>
2015-07-16T23:50:20.237285+00:00 app[web.1]:     </tr>
2015-07-16T23:50:20.237286+00:00 app[web.1]:   </table>
2015-07-16T23:50:20.237287+00:00 app[web.1]: </body>
2015-07-16T23:50:20.237288+00:00 app[web.1]: </html>
2015-07-16T23:50:20.237290+00:00 app[web.1]: 
2015-07-16T23:50:20.237291+00:00 app[web.1]: ----==_mimepart_55a8433c8b87_33f934cf23950124ed--
2015-07-16T23:50:20.237292+00:00 app[web.1]: 
2015-07-16T23:50:20.237294+00:00 app[web.1]: [ActiveJob] [ActionMailer::DeliveryJob] [96de7564-adb4-44b4-8d41-366d1e3ad573] Performed ActionMailer::DeliveryJob from Inline(mailers) in 253.22ms
2015-07-16T23:50:20.237295+00:00 app[web.1]: Completed 500 Internal Server Error in 548ms (ActiveRecord: 151.8ms)
2015-07-16T23:50:20.241456+00:00 app[web.1]: 
2015-07-16T23:50:20.241459+00:00 app[web.1]: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 25):
2015-07-16T23:50:20.241461+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/net/smtp.rb:541:in `initialize'
2015-07-16T23:50:20.241462+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/net/smtp.rb:541:in `open'
2015-07-16T23:50:20.241464+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/net/smtp.rb:541:in `tcp_socket'
2015-07-16T23:50:20.241465+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/net/smtp.rb:551:in `block in do_start'
2015-07-16T23:50:20.241466+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/timeout.rb:91:in `block in timeout'
2015-07-16T23:50:20.241467+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/timeout.rb:101:in `call'
2015-07-16T23:50:20.241469+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/timeout.rb:101:in `timeout'
2015-07-16T23:50:20.241470+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/net/smtp.rb:550:in `do_start'
2015-07-16T23:50:20.241471+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/net/smtp.rb:520:in `start'
2015-07-16T23:50:20.241473+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/mail-2.6.3/lib/mail/network/delivery_methods/smtp.rb:112:in `deliver!'
2015-07-16T23:50:20.241474+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/mail-2.6.3/lib/mail/message.rb:2141:in `do_delivery'
2015-07-16T23:50:20.241476+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/mail-2.6.3/lib/mail/message.rb:236:in `block in deliver'
2015-07-16T23:50:20.241477+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionmailer-4.2.3/lib/action_mailer/base.rb:543:in `block in deliver_mail'
2015-07-16T23:50:20.241479+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `block in instrument'
2015-07-16T23:50:20.241480+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
2015-07-16T23:50:20.241481+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `instrument'
2015-07-16T23:50:20.241482+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionmailer-4.2.3/lib/action_mailer/base.rb:541:in `deliver_mail'
2015-07-16T23:50:20.241484+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/mail-2.6.3/lib/mail/message.rb:236:in `deliver'
2015-07-16T23:50:20.241485+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionmailer-4.2.3/lib/action_mailer/message_delivery.rb:85:in `deliver_now'
2015-07-16T23:50:20.241486+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionmailer-4.2.3/lib/action_mailer/delivery_job.rb:10:in `perform'
2015-07-16T23:50:20.241487+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/execution.rb:32:in `block in perform_now'
2015-07-16T23:50:20.241488+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:50:20.241490+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:50:20.241491+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:553:in `block (2 levels) in compile'
2015-07-16T23:50:20.241492+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241493+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241495+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:496:in `block (2 levels) in around'
2015-07-16T23:50:20.241496+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:341:in `call'
2015-07-16T23:50:20.241498+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:341:in `block (2 levels) in simple'
2015-07-16T23:50:20.241499+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:23:in `call'
2015-07-16T23:50:20.241501+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:23:in `block (4 levels) in <module:Logging>'
2015-07-16T23:50:20.241502+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `block in instrument'
2015-07-16T23:50:20.241504+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
2015-07-16T23:50:20.241505+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `instrument'
2015-07-16T23:50:20.241506+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:22:in `block (3 levels) in <module:Logging>'
2015-07-16T23:50:20.241508+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:43:in `block in tag_logger'
2015-07-16T23:50:20.241509+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `block in tagged'
2015-07-16T23:50:20.241510+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:26:in `tagged'
2015-07-16T23:50:20.241511+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `tagged'
2015-07-16T23:50:20.241513+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:43:in `tag_logger'
2015-07-16T23:50:20.241514+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:19:in `block (2 levels) in <module:Logging>'
2015-07-16T23:50:20.241519+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:439:in `instance_exec'
2015-07-16T23:50:20.241520+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:439:in `block in make_lambda'
2015-07-16T23:50:20.241521+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:340:in `call'
2015-07-16T23:50:20.241522+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:340:in `block in simple'
2015-07-16T23:50:20.241524+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:495:in `call'
2015-07-16T23:50:20.241525+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:495:in `block in around'
2015-07-16T23:50:20.241526+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241527+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241528+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:88:in `run_callbacks'
2015-07-16T23:50:20.241530+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/execution.rb:31:in `perform_now'
2015-07-16T23:50:20.241531+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/execution.rb:21:in `execute'
2015-07-16T23:50:20.241532+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/queue_adapters/inline_adapter.rb:14:in `enqueue'
2015-07-16T23:50:20.241533+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/enqueuing.rb:71:in `block in enqueue'
2015-07-16T23:50:20.241535+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:50:20.241536+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:50:20.241537+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:553:in `block (2 levels) in compile'
2015-07-16T23:50:20.241538+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241540+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241541+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:496:in `block (2 levels) in around'
2015-07-16T23:50:20.241542+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:341:in `call'
2015-07-16T23:50:20.241543+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:341:in `block (2 levels) in simple'
2015-07-16T23:50:20.241545+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:14:in `call'
2015-07-16T23:50:20.241546+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:14:in `block (3 levels) in <module:Logging>'
2015-07-16T23:50:20.241548+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:43:in `block in tag_logger'
2015-07-16T23:50:20.241549+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `block in tagged'
2015-07-16T23:50:20.241550+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:26:in `tagged'
2015-07-16T23:50:20.241552+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `tagged'
2015-07-16T23:50:20.241553+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:43:in `tag_logger'
2015-07-16T23:50:20.241554+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/logging.rb:13:in `block (2 levels) in <module:Logging>'
2015-07-16T23:50:20.241555+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:439:in `instance_exec'
2015-07-16T23:50:20.241557+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:439:in `block in make_lambda'
2015-07-16T23:50:20.241558+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:340:in `call'
2015-07-16T23:50:20.241559+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:340:in `block in simple'
2015-07-16T23:50:20.241561+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:495:in `call'
2015-07-16T23:50:20.241562+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:495:in `block in around'
2015-07-16T23:50:20.241563+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241564+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.241565+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:88:in `run_callbacks'
2015-07-16T23:50:20.241567+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/enqueuing.rb:67:in `enqueue'
2015-07-16T23:50:20.241570+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activejob-4.2.3/lib/active_job/configured_job.rb:13:in `perform_later'
2015-07-16T23:50:20.241572+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionmailer-4.2.3/lib/action_mailer/message_delivery.rb:112:in `enqueue_delivery'
2015-07-16T23:50:20.241573+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionmailer-4.2.3/lib/action_mailer/message_delivery.rb:68:in `deliver_later'
2015-07-16T23:50:20.241574+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/spree_core-3.0.1/app/models/spree/order.rb:350:in `deliver_order_confirmation_email'
2015-07-16T23:50:20.241577+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/spree_core-3.0.1/app/models/spree/order.rb:338:in `finalize!'
2015-07-16T23:50:20.241578+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/eval_helpers.rb:58:in `evaluate_method'
2015-07-16T23:50:20.241579+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/callback.rb:192:in `block in run_methods'
2015-07-16T23:50:20.241580+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/callback.rb:191:in `each'
2015-07-16T23:50:20.241582+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/callback.rb:191:in `run_methods'
2015-07-16T23:50:20.241583+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/callback.rb:159:in `call'
2015-07-16T23:50:20.241584+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:394:in `block (2 levels) in after'
2015-07-16T23:50:20.241585+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:394:in `each'
2015-07-16T23:5
0:20.241586+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:394:in `block in after'
2015-07-16T23:50:20.241588+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:392:in `catch'
2015-07-16T23:50:20.241589+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:392:in `after'
2015-07-16T23:50:20.241590+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:195:in `run_callbacks'
2015-07-16T23:50:20.241591+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:127:in `run_callbacks'
2015-07-16T23:50:20.241592+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:63:in `block (2 levels) in perform'
2015-07-16T23:50:20.241594+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:63:in `catch'
2015-07-16T23:50:20.241595+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:63:in `block in perform'
2015-07-16T23:50:20.241596+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:186:in `within_transaction'
2015-07-16T23:50:20.241597+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition_collection.rb:62:in `perform'
2015-07-16T23:50:20.241599+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/transition.rb:163:in `perform'
2015-07-16T23:50:20.241600+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/event.rb:155:in `fire'
2015-07-16T23:50:20.241601+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/event.rb:219:in `block in add_actions'
2015-07-16T23:50:20.241602+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/machine.rb:725:in `call'
2015-07-16T23:50:20.241604+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/state_machines-0.4.0/lib/state_machines/machine.rb:725:in `block (2 levels) in define_helper'
2015-07-16T23:50:20.241605+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/spree_frontend-3.0.1/app/controllers/spree/checkout_controller.rb:30:in `update'
2015-07-16T23:50:20.241606+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
2015-07-16T23:50:20.241607+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/base.rb:198:in `process_action'
2015-07-16T23:50:20.241608+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/rendering.rb:10:in `process_action'
2015-07-16T23:50:20.241610+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
2015-07-16T23:50:20.241611+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:50:20.243060+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:115:in `call'
2015-07-16T23:50:20.243065+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:553:in `block (2 levels) in compile'
2015-07-16T23:50:20.243068+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.243069+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:503:in `call'
2015-07-16T23:50:20.243078+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:88:in `run_callbacks'
2015-07-16T23:50:20.243080+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
2015-07-16T23:50:20.243081+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/rescue.rb:29:in `process_action'
2015-07-16T23:50:20.243083+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
2015-07-16T23:50:20.243086+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `block in instrument'
2015-07-16T23:50:20.243088+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
2015-07-16T23:50:20.243089+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/notifications.rb:164:in `instrument'
2015-07-16T23:50:20.243091+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
2015-07-16T23:50:20.243093+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
2015-07-16T23:50:20.243095+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activerecord-4.2.3/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
2015-07-16T23:50:20.243096+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/abstract_controller/base.rb:137:in `process'
2015-07-16T23:50:20.243102+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionview-4.2.3/lib/action_view/rendering.rb:30:in `process'
2015-07-16T23:50:20.243103+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal.rb:196:in `dispatch'
2015-07-16T23:50:20.243104+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
2015-07-16T23:50:20.243106+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_controller/metal.rb:237:in `block in action'
2015-07-16T23:50:20.243107+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:76:in `call'
2015-07-16T23:50:20.243108+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:76:in `dispatch'
2015-07-16T23:50:20.243109+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:45:in `serve'
2015-07-16T23:50:20.243110+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:43:in `block in serve'
2015-07-16T23:50:20.243111+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `each'
2015-07-16T23:50:20.243113+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `serve'
2015-07-16T23:50:20.243114+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:821:in `call'
2015-07-16T23:50:20.243115+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/engine.rb:518:in `call'
2015-07-16T23:50:20.243116+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/railtie.rb:194:in `public_send'
2015-07-16T23:50:20.243117+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/railtie.rb:194:in `method_missing'
2015-07-16T23:50:20.243119+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/mapper.rb:51:in `serve'
2015-07-16T23:50:20.243120+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:43:in `block in serve'
2015-07-16T23:50:20.243121+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `each'
2015-07-16T23:50:20.243122+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/journey/router.rb:30:in `serve'
2015-07-16T23:50:20.243123+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/routing/route_set.rb:821:in `call'
2015-07-16T23:50:20.243124+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
2015-07-16T23:50:20.243126+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
2015-07-16T23:50:20.243130+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
2015-07-16T23:50:20.243131+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/etag.rb:24:in `call'
2015-07-16T23:50:20.243132+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/conditionalget.rb:38:in `call'
2015-07-16T23:50:20.243133+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
2015-07-16T23:50:20.243134+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
2015-07-16T23:50:20.243136+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/flash.rb:260:in `call'
2015-07-16T23:50:20.243137+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:225:in `context'
2015-07-16T23:50:20.243138+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:220:in `call'
2015-07-16T23:50:20.243143+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/cookies.rb:560:in `call'
2015-07-16T23:50:20.243144+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activerecord-4.2.3/lib/active_record/query_cache.rb:36:in `call'
2015-07-16T23:50:20.243150+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activerecord-4.2.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
2015-07-16T23:50:20.243151+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
2015-07-16T23:50:20.243153+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/callbacks.rb:84:in `run_callbacks'
2015-07-16T23:50:20.243154+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
2015-07-16T23:50:20.243155+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
2015-07-16T23:50:20.243156+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
2015-07-16T23:50:20.243157+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
2015-07-16T23:50:20.243158+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/rack/logger.rb:38:in `call_app'
2015-07-16T23:50:20.243160+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/rack/logger.rb:20:in `block in call'
2015-07-16T23:50:20.243161+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `block in tagged'
2015-07-16T23:50:20.243162+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:26:in `tagged'
2015-07-16T23:50:20.243163+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/tagged_logging.rb:68:in `tagged'
2015-07-16T23:50:20.243164+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/rack/logger.rb:20:in `call'
2015-07-16T23:50:20.243166+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/request_id.rb:21:in `call'
2015-07-16T23:50:20.243167+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
2015-07-16T23:50:20.243168+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/runtime.rb:18:in `call'
2015-07-16T23:50:20.243169+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/activesupport-4.2.3/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
2015-07-16T23:50:20.243170+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/actionpack-4.2.3/lib/action_dispatch/middleware/static.rb:116:in `call'
2015-07-16T23:50:20.243172+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/sendfile.rb:113:in `call'
2015-07-16T23:50:20.243173+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/engine.rb:518:in `call'
2015-07-16T23:50:20.243174+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/railties-4.2.3/lib/rails/application.rb:165:in `call'
2015-07-16T23:50:20.243175+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/lock.rb:17:in `call'
2015-07-16T23:50:20.243176+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/content_length.rb:15:in `call'
2015-07-16T23:50:20.243177+00:00 app[web.1]:   vendor/bundle/ruby/2.1.0/gems/rack-1.6.4/lib/rack/handler/webrick.rb:88:in `service'
2015-07-16T23:50:20.243179+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
2015-07-16T23:50:20.243180+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
2015-07-16T23:50:20.243181+00:00 app[web.1]:   vendor/ruby-2.1.5/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
2015-07-16T23:50:20.243188+00:00 app[web.1]: 
2015-07-16T23:50:20.243189+00:00 app[web.1]: 
